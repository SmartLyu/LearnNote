
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Golang · 小远笔记</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="yuzhiyuan">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-click-reveal/click_reveal.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-emphasize/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-insert-logo/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-ace/ace.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    

        
    
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Basis.html" />
    
    
    <link rel="prev" href="../" />
    

    
        <link rel="shortcut icon" href='../images/logo.ico' type="image/x-icon">
    
    
        <link rel="bookmark" href='../images/logo.ico' type="image/x-icon">
    
    
        <link rel="apple-touch-icon" href='../images/logo.ico'>
    
    
        
        <link rel="apple-touch-icon" sizes="120x120" href="../images/logo.ico">
        
        <link rel="apple-touch-icon" sizes="180x180" href="../images/logo.ico">
        
    

    <script src="../gitbook/gitbook-plugin-graph/d3.min.js"></script>
    <script src="../gitbook/gitbook-plugin-graph/function-plot.js"></script>    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2" data-path="./">
            
                <a href="./">
            
                    
                    Golang
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="Basis.html">
            
                <a href="Basis.html">
            
                    
                    基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="Function.html">
            
                <a href="Function.html">
            
                    
                    方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="Structure.html">
            
                <a href="Structure.html">
            
                    
                    数据结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="Dealway.html">
            
                <a href="Dealway.html">
            
                    
                    特殊处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="Linux.html">
            
                <a href="Linux.html">
            
                    
                    命令操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="Test.html">
            
                <a href="Test.html">
            
                    
                    单元测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="Captcha.html">
            
                <a href="Captcha.html">
            
                    
                    验证码
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../Python/">
            
                <a href="../Python/">
            
                    
                    Python
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../Python/Basis.html">
            
                <a href="../Python/Basis.html">
            
                    
                    基础
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../Git/">
            
                <a href="../Git/">
            
                    
                    Git
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../Git/Principle.html">
            
                <a href="../Git/Principle.html">
            
                    
                    原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../Git/Operation.html">
            
                <a href="../Git/Operation.html">
            
                    
                    操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../Git/change.md">
            
                <span>
            
                    
                    修改内容
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../Git/History.html">
            
                <a href="../Git/History.html">
            
                    
                    历史
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../Git/Branch.html">
            
                <a href="../Git/Branch.html">
            
                    
                    分支
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../Git/Origin.html">
            
                <a href="../Git/Origin.html">
            
                    
                    远端
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../Git/Submodule.html">
            
                <a href="../Git/Submodule.html">
            
                    
                    子模块
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../Markdown/">
            
                <a href="../Markdown/">
            
                    
                    超文本
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../Markdown/markdown.html">
            
                <a href="../Markdown/markdown.html">
            
                    
                    Markdown
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../Markdown/adoc.html">
            
                <a href="../Markdown/adoc.html">
            
                    
                    Adoc
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../SRE/">
            
                <a href="../SRE/">
            
                    
                    运维
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../SRE/System.html">
            
                <a href="../SRE/System.html">
            
                    
                    系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../SRE/Jenkins.html">
            
                <a href="../SRE/Jenkins.html">
            
                    
                    Jenkins
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Golang</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#&#x914D;&#x7F6E;go&#x73AF;&#x5883;"><b></b>&#x914D;&#x7F6E;go&#x73AF;&#x5883;</a></li><li><span class="title-icon "></span><a href="#golandide&#x5FEB;&#x6377;&#x64CD;&#x4F5C;"><b></b>goland(IDE)&#x5FEB;&#x6377;&#x64CD;&#x4F5C;</a></li><li><span class="title-icon "></span><a href="#&#x5E38;&#x7528;&#x64CD;&#x4F5C;"><b></b>&#x5E38;&#x7528;&#x64CD;&#x4F5C;</a></li><ul><li><span class="title-icon "></span><a href="#swag"><b></b>swag</a></li><li><span class="title-icon "></span><a href="#mod"><b></b>mod</a></li></ul><li><span class="title-icon "></span><a href="#&#x5BFC;&#x5165;&#x5305;"><b></b>&#x5BFC;&#x5165;&#x5305;</a></li><ul><li><span class="title-icon "></span><a href="#&#x96C6;&#x5408;&#x5BFC;&#x5165;&#x5305;&#x6570;&#x636E;"><b></b>&#x96C6;&#x5408;&#x5BFC;&#x5165;&#x5305;&#x6570;&#x636E;</a></li></ul><li><span class="title-icon "></span><a href="#&#x51FD;&#x6570;"><b></b>&#x51FD;&#x6570;</a></li><ul><li><span class="title-icon "></span><a href="#&#x51FD;&#x6570;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x503C;"><b></b>&#x51FD;&#x6570;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x503C;</a></li><li><span class="title-icon "></span><a href="#&#x51FD;&#x6570;&#x503C;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x7C7B;&#x578B;"><b></b>&#x51FD;&#x6570;&#x503C;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x7C7B;&#x578B;</a></li><li><span class="title-icon "></span><a href="#&#x5EF6;&#x8FDF;&#x51FD;&#x6570;"><b></b>&#x5EF6;&#x8FDF;&#x51FD;&#x6570;</a></li><li><span class="title-icon "></span><a href="#&#x95ED;&#x5305;"><b></b>&#x95ED;&#x5305;</a></li></ul><li><span class="title-icon "></span><a href="#&#x53D8;&#x91CF;"><b></b>&#x53D8;&#x91CF;</a></li><ul><li><span class="title-icon "></span><a href="#&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x8BBE;&#x5B9A;"><b></b>&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x8BBE;&#x5B9A;</a></li><li><span class="title-icon "></span><a href="#&#x5B9A;&#x4E49;&#x53D8;&#x91CF;"><b></b>&#x5B9A;&#x4E49;&#x53D8;&#x91CF;</a></li><li><span class="title-icon "></span><a href="#&#x53D8;&#x91CF;&#x521D;&#x59CB;&#x5316;&#x8D4B;&#x503C;"><b></b>&#x53D8;&#x91CF;&#x521D;&#x59CB;&#x5316;&#x8D4B;&#x503C;</a></li><li><span class="title-icon "></span><a href="#&#x53D8;&#x91CF;&#x7C7B;&#x578B;"><b></b>&#x53D8;&#x91CF;&#x7C7B;&#x578B;</a></li><li><span class="title-icon "></span><a href="#&#x7279;&#x6B8A;&#x8FD0;&#x7B97;"><b></b>&#x7279;&#x6B8A;&#x8FD0;&#x7B97;</a></li><ul><li><span class="title-icon "></span><a href="#&#x7C7B;&#x578B;&#x88C5;&#x6362;"><b></b>&#x7C7B;&#x578B;&#x88C5;&#x6362;</a></li></ul><li><span class="title-icon "></span><a href="#&#x83B7;&#x53D6;&#x53D8;&#x91CF;"><b></b>&#x83B7;&#x53D6;&#x53D8;&#x91CF;</a></li><ul><li><span class="title-icon "></span><a href="#&#x5E38;&#x91CF;&#x5B9A;&#x4E49;"><b></b>&#x5E38;&#x91CF;&#x5B9A;&#x4E49;</a></li></ul><li><span class="title-icon "></span><a href="#&#x6307;&#x9488;"><b></b>&#x6307;&#x9488;</a></li></ul><li><span class="title-icon "></span><a href="#&#x5FAA;&#x73AF;"><b></b>&#x5FAA;&#x73AF;</a></li><ul><li><span class="title-icon "></span><a href="#&#x57FA;&#x672C;for&#x5FAA;&#x73AF;"><b></b>&#x57FA;&#x672C;for&#x5FAA;&#x73AF;</a></li><li><span class="title-icon "></span><a href="#&#x521D;&#x59CB;&#x503C;&#x548C;&#x6570;&#x636E;&#x53D8;&#x5316;&#x6A21;&#x5757;&#x4E0D;&#x5199;"><b></b>&#x521D;&#x59CB;&#x503C;&#x548C;&#x6570;&#x636E;&#x53D8;&#x5316;&#x6A21;&#x5757;&#x4E0D;&#x5199;</a></li><li><span class="title-icon "></span><a href="#&#x6B7B;&#x5FAA;&#x73AF;"><b></b>&#x6B7B;&#x5FAA;&#x73AF;</a></li><li><span class="title-icon "></span><a href="#&#x7528;range&#x548C;&#x6570;&#x7EC4;&#x76F8;&#x7ED3;&#x5408;"><b></b>&#x7528;range&#x548C;&#x6570;&#x7EC4;&#x76F8;&#x7ED3;&#x5408;</a></li></ul><li><span class="title-icon "></span><a href="#&#x5224;&#x65AD;"><b></b>&#x5224;&#x65AD;</a></li><ul><li><span class="title-icon "></span><a href="#switch---case"><b></b>switch - case</a></li></ul><li><span class="title-icon "></span><a href="#&#x7ED3;&#x6784;&#x4F53;"><b></b>&#x7ED3;&#x6784;&#x4F53;</a></li><ul><li><span class="title-icon "></span><a href="#&#x7ED3;&#x6784;&#x4F53;&#x6307;&#x9488;"><b></b>&#x7ED3;&#x6784;&#x4F53;&#x6307;&#x9488;</a></li><li><span class="title-icon "></span><a href="#&#x53CD;&#x5C04;&#x5BF9;&#x8C61;"><b></b>&#x53CD;&#x5C04;&#x5BF9;&#x8C61;</a></li><li><span class="title-icon "></span><a href="#&#x5BF9;&#x8C61;&#x64CD;&#x4F5C;"><b></b>&#x5BF9;&#x8C61;&#x64CD;&#x4F5C;</a></li></ul><li><span class="title-icon "></span><a href="#&#x6570;&#x7EC4;-slice"><b></b>&#x6570;&#x7EC4; slice</a></li><ul><li><span class="title-icon "></span><a href="#&#x5207;&#x7247;&#x76F8;&#x5173;&#x6982;&#x5FF5;"><b></b>&#x5207;&#x7247;&#x76F8;&#x5173;&#x6982;&#x5FF5;</a></li><li><span class="title-icon "></span><a href="#&#x952E;&#x540D;&#x6620;&#x5C04;"><b></b>&#x952E;&#x540D;&#x6620;&#x5C04;</a></li><ul><li><span class="title-icon "></span><a href="#&#x5220;&#x9664;&#x67D0;&#x952E;&#x540D;&#x7684;&#x5143;&#x7D20;"><b></b>&#x5220;&#x9664;&#x67D0;&#x952E;&#x540D;&#x7684;&#x5143;&#x7D20;</a></li><li><span class="title-icon "></span><a href="#&#x67E5;&#x770B;&#x67D0;&#x952E;&#x540D;&#x7684;&#x5143;&#x7D20;&#x662F;&#x5426;&#x5B58;&#x5728;"><b></b>&#x67E5;&#x770B;&#x67D0;&#x952E;&#x540D;&#x7684;&#x5143;&#x7D20;&#x662F;&#x5426;&#x5B58;&#x5728;</a></li></ul></ul><li><span class="title-icon "></span><a href="#&#x63A5;&#x53E3;"><b></b>&#x63A5;&#x53E3;</a></li><li><span class="title-icon "></span><a href="#&#x65E5;&#x5FD7;&#x5904;&#x7406;"><b></b>&#x65E5;&#x5FD7;&#x5904;&#x7406;</a></li><li><span class="title-icon "></span><a href="#json&#x5904;&#x7406;"><b></b>Json&#x5904;&#x7406;</a></li><li><span class="title-icon "></span><a href="#&#x5F02;&#x5E38;&#x5904;&#x7406;"><b></b>&#x5F02;&#x5E38;&#x5904;&#x7406;</a></li><li><span class="title-icon "></span><a href="#&#x5199;&#x6587;&#x4EF6;"><b></b>&#x5199;&#x6587;&#x4EF6;</a></li><ul><li><span class="title-icon "></span><a href="#&#x8986;&#x76D6;&#x5199;"><b></b>&#x8986;&#x76D6;&#x5199;</a></li><li><span class="title-icon "></span><a href="#&#x8FFD;&#x52A0;&#x5199;"><b></b>&#x8FFD;&#x52A0;&#x5199;</a></li></ul><li><span class="title-icon "></span><a href="#linux"><b></b>Linux</a></li><ul><li><span class="title-icon "></span><a href="#ssh&#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x5668;"><b></b>ssh&#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x5668;</a></li><li><span class="title-icon "></span><a href="#&#x6267;&#x884C;shell&#x547D;&#x4EE4;"><b></b>&#x6267;&#x884C;shell&#x547D;&#x4EE4;</a></li><li><span class="title-icon "></span><a href="#&#x57FA;&#x4E8E;http&#x534F;&#x8BAE;&#x7684;api&#x63A5;&#x53E3;&#x5B9E;&#x73B0;"><b></b>&#x57FA;&#x4E8E;http&#x534F;&#x8BAE;&#x7684;API&#x63A5;&#x53E3;&#x5B9E;&#x73B0;</a></li></ul><li><span class="title-icon "></span><a href="#go-test"><b></b>go test</a></li><ul><li><span class="title-icon "></span><a href="#&#x5355;&#x5143;&#x6D4B;&#x8BD5;"><b></b>&#x5355;&#x5143;&#x6D4B;&#x8BD5;</a></li><li><span class="title-icon "></span><a href="#mock&#x65B9;&#x6CD5;"><b></b>Mock&#x65B9;&#x6CD5;</a></li><li><span class="title-icon "></span><a href="#httptest"><b></b>httptest</a></li><li><span class="title-icon "></span><a href="#faker"><b></b>Faker</a></li></ul><li><span class="title-icon "></span><a href="#&#x6570;&#x636E;&#x5B58;&#x50A8;"><b></b>&#x6570;&#x636E;&#x5B58;&#x50A8;</a></li><ul><li><span class="title-icon "></span><a href="#redis-&#x64CD;&#x4F5C;"><b></b>Redis &#x64CD;&#x4F5C;</a></li></ul><li><span class="title-icon "></span><a href="#captcha-&#x9A8C;&#x8BC1;&#x7801;"><b></b>Captcha &#x9A8C;&#x8BC1;&#x7801;</a></li></ul></div><a href="#&#x914D;&#x7F6E;go&#x73AF;&#x5883;" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><p>[toc]</p>
<h1 id="&#x914D;&#x7F6E;go&#x73AF;&#x5883;"><a name="&#x914D;&#x7F6E;go&#x73AF;&#x5883;" class="anchor-navigation-ex-anchor" href="#&#x914D;&#x7F6E;go&#x73AF;&#x5883;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x914D;&#x7F6E;go&#x73AF;&#x5883;" class="plugin-anchor" href="#&#x914D;&#x7F6E;go&#x73AF;&#x5883;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x914D;&#x7F6E;go&#x73AF;&#x5883;</h1>
<ol>
<li>&#x89E3;&#x538B;go&#x5305;</li>
<li>&#x914D;&#x7F6E;GOPATH</li>
<li>&#x5982;&#x679C;&#x9700;&#x8981;&#x4E0B;&#x8F7D;&#x5305; <code>golang.org/x/net/context --&gt; github.com/golang/net/context</code></li>
</ol>
<h1 id="golandide&#x5FEB;&#x6377;&#x64CD;&#x4F5C;"><a name="golandide&#x5FEB;&#x6377;&#x64CD;&#x4F5C;" class="anchor-navigation-ex-anchor" href="#golandide&#x5FEB;&#x6377;&#x64CD;&#x4F5C;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="golandide&#x5FEB;&#x6377;&#x64CD;&#x4F5C;" class="plugin-anchor" href="#golandide&#x5FEB;&#x6377;&#x64CD;&#x4F5C;"><i class="fa fa-link" aria-hidden="true"></i></a>goland(IDE)&#x5FEB;&#x6377;&#x64CD;&#x4F5C;</h1>
<table>
<thead>
<tr>
<th style="text-align:left">&#x529F;&#x80FD;</th>
<th style="text-align:center">&#x64CD;&#x4F5C;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">&#x5220;&#x9664;&#x5F53;&#x524D;&#x884C;</td>
<td style="text-align:center">&#x2318;&#x232B;</td>
</tr>
<tr>
<td style="text-align:left">&#x884C;&#x6CE8;&#x91CA;</td>
<td style="text-align:center">&#x2318;/</td>
</tr>
<tr>
<td style="text-align:left">&#x5757;&#x6CE8;&#x91CA;</td>
<td style="text-align:center">&#x2325;&#x2318;/</td>
</tr>
<tr>
<td style="text-align:left">&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x63D0;&#x793A;</td>
<td style="text-align:center">&#x2318;P</td>
</tr>
<tr>
<td style="text-align:left">&#x4EE3;&#x7801;&#x68C0;&#x67E5;&#x5E76;&#x63D0;&#x4F9B;&#x5FEB;&#x901F;&#x4FEE;&#x590D;</td>
<td style="text-align:center">&#x2325;&#x23CE;</td>
</tr>
<tr>
<td style="text-align:left">&#x5207;&#x6362;window</td>
<td style="text-align:center">&#x2325;&#x2318;`</td>
</tr>
<tr>
<td style="text-align:left">&#x5207;&#x6362;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;</td>
<td style="text-align:center">&#x2318;&#x2325; &#x65B9;&#x5411;&#x952E;</td>
</tr>
</tbody>
</table>
<h1 id="&#x5E38;&#x7528;&#x64CD;&#x4F5C;"><a name="&#x5E38;&#x7528;&#x64CD;&#x4F5C;" class="anchor-navigation-ex-anchor" href="#&#x5E38;&#x7528;&#x64CD;&#x4F5C;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5E38;&#x7528;&#x64CD;&#x4F5C;" class="plugin-anchor" href="#&#x5E38;&#x7528;&#x64CD;&#x4F5C;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5E38;&#x7528;&#x64CD;&#x4F5C;</h1>
<h2 id="swag"><a name="swag" class="anchor-navigation-ex-anchor" href="#swag"><i class="fa fa-link" aria-hidden="true"></i></a><a name="swag" class="plugin-anchor" href="#swag"><i class="fa fa-link" aria-hidden="true"></i></a>swag</h2>
<pre class="language-"><code>swag init --parseDependency
swag init
</code></pre><h2 id="mod"><a name="mod" class="anchor-navigation-ex-anchor" href="#mod"><i class="fa fa-link" aria-hidden="true"></i></a><a name="mod" class="plugin-anchor" href="#mod"><i class="fa fa-link" aria-hidden="true"></i></a>mod</h2>
<pre class="language-"><code>go env -w GO111MODULE=on
go env -w GOPROXY=https://goproxy.cn,direct

go mod download
go mod vendor
</code></pre><h1 id="&#x5BFC;&#x5165;&#x5305;"><a name="&#x5BFC;&#x5165;&#x5305;" class="anchor-navigation-ex-anchor" href="#&#x5BFC;&#x5165;&#x5305;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5BFC;&#x5165;&#x5305;" class="plugin-anchor" href="#&#x5BFC;&#x5165;&#x5305;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5BFC;&#x5165;&#x5305;</h1>
<h2 id="&#x96C6;&#x5408;&#x5BFC;&#x5165;&#x5305;&#x6570;&#x636E;"><a name="&#x96C6;&#x5408;&#x5BFC;&#x5165;&#x5305;&#x6570;&#x636E;" class="anchor-navigation-ex-anchor" href="#&#x96C6;&#x5408;&#x5BFC;&#x5165;&#x5305;&#x6570;&#x636E;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x96C6;&#x5408;&#x5BFC;&#x5165;&#x5305;&#x6570;&#x636E;" class="plugin-anchor" href="#&#x96C6;&#x5408;&#x5BFC;&#x5165;&#x5305;&#x6570;&#x636E;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x96C6;&#x5408;&#x5BFC;&#x5165;&#x5305;&#x6570;&#x636E;</h2>
<pre class="language-"><code>import(
    &quot;fmt&quot;
    &quot;math/rand&quot;
    &#x2026;&#x2026; &#x2026;&#x2026;
)
</code></pre><table>
<thead>
<tr>
<th style="text-align:left">&#x5305;&#x540D;</th>
<th style="text-align:center">&#x4ECB;&#x7ECD;</th>
<th style="text-align:center">&#x4F5C;&#x7528;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">fmt</td>
<td style="text-align:center">&#x57FA;&#x672C;&#x5305;</td>
<td style="text-align:center">&#x7528;&#x4E8E;&#x8F93;&#x5165;&#x8F93;&#x51FA;</td>
</tr>
<tr>
<td style="text-align:left">math</td>
<td style="text-align:center">&#x6570;&#x5B66;&#x57FA;&#x672C;&#x5305;</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">&#x8868;&#x5185;&#x5BB9;</td>
<td style="text-align:center">&#x8868;&#x5185;&#x5BB9;</td>
<td style="text-align:center"><code>&#x4EE3;&#x7801;&#x5185;&#x5BB9;</code></td>
</tr>
</tbody>
</table>
<h1 id="&#x51FD;&#x6570;"><a name="&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x51FD;&#x6570;" class="plugin-anchor" href="#&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x51FD;&#x6570;</h1>
<table>
<thead>
<tr>
<th style="text-align:left">&#x51FD;&#x6570;&#x540D;</th>
<th style="text-align:center">&#x4F5C;&#x7528;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">fmt.Println(String)</td>
<td style="text-align:center">&#x8F93;&#x51FA;&#x6307;&#x5B9A;&#x5B57;&#x7B26;&#x4E32;</td>
</tr>
</tbody>
</table>
<h2 id="&#x51FD;&#x6570;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x503C;"><a name="&#x51FD;&#x6570;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x503C;" class="anchor-navigation-ex-anchor" href="#&#x51FD;&#x6570;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x503C;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x51FD;&#x6570;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x503C;" class="plugin-anchor" href="#&#x51FD;&#x6570;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x503C;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x51FD;&#x6570;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x503C;</h2>
<pre class="language-"><code>func &#x51FD;&#x6570;&#x540D;(&#x53C2;&#x6570;1&#xFF0C;&#x53C2;&#x6570;2 &#x6570;&#x636E;&#x7C7B;&#x578B;) (&#x8FD4;&#x56DE;&#x6570;&#x636E;1,&#x8FD4;&#x56DE;&#x6570;&#x636E;2 &#x6570;&#x636E;&#x7C7B;&#x578B;){
    &#x2026;&#x2026; &#x2026;&#x2026;
    return
}

# example
func add(x , y int) (y , x) {
    return 
}
</code></pre><h2 id="&#x51FD;&#x6570;&#x503C;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x7C7B;&#x578B;"><a name="&#x51FD;&#x6570;&#x503C;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x7C7B;&#x578B;" class="anchor-navigation-ex-anchor" href="#&#x51FD;&#x6570;&#x503C;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x7C7B;&#x578B;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x51FD;&#x6570;&#x503C;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x7C7B;&#x578B;" class="plugin-anchor" href="#&#x51FD;&#x6570;&#x503C;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x7C7B;&#x578B;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x51FD;&#x6570;&#x503C;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x7C7B;&#x578B;</h2>
<pre class="language-"><code>func &#x51FD;&#x6570;&#x540D;(&#x53C2;&#x6570;1&#xFF0C;&#x53C2;&#x6570;2 &#x6570;&#x636E;&#x7C7B;&#x578B;) (&#x8FD4;&#x56DE;&#x6570;&#x636E;1&#x7684;&#x7C7B;&#x578B;,&#x8FD4;&#x56DE;&#x6570;&#x636E;2&#x7684;&#x7C7B;&#x578B;){
    &#x2026;&#x2026; &#x2026;&#x2026;
    return &#x8FD4;&#x56DE;&#x6570;&#x636E;1 , &#x8FD4;&#x56DE;&#x6570;&#x636E;2
}

# example
func add(x , y int) (int , int) {
    return x + y , x
}
</code></pre><p> &#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x662F;func&#x51FD;&#x6570;&#x3002;
&#x5728;&#x51FD;&#x6570;&#x4E2D;&#x4FEE;&#x6539;&#x53D8;&#x91CF;&#x4E00;&#x822C;&#x4E0D;&#x5F71;&#x54CD;&#x5168;&#x5C40;&#x7684;&#x503C;&#xFF0C;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x8981;&#x6539;&#xFF0C;&#x5FC5;&#x987B;&#x4F20;&#x9012;&#x4E00;&#x4E2A;&#x6307;&#x9488;&#x8FDB;&#x6765;&#xFF0C;&#x8FD9;&#x4E2A;&#x548C;C++&#x76F8;&#x540C;
&#x5982;&#x679C;&#x53EA;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0D;&#x5199;&#x62EC;&#x53F7;<code>func &#x51FD;&#x6570;&#x540D;(&#x53C2;&#x6570;1&#xFF0C;&#x53C2;&#x6570;2 &#x6570;&#x636E;&#x7C7B;&#x578B;) &#x8FD4;&#x56DE;&#x6570;&#x636E;&#x7C7B;&#x578B;{&#x2026;&#x2026;}</code></p>
<h2 id="&#x5EF6;&#x8FDF;&#x51FD;&#x6570;"><a name="&#x5EF6;&#x8FDF;&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x5EF6;&#x8FDF;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5EF6;&#x8FDF;&#x51FD;&#x6570;" class="plugin-anchor" href="#&#x5EF6;&#x8FDF;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5EF6;&#x8FDF;&#x51FD;&#x6570;</h2>
<p>&#x6700;&#x540E;&#x6267;&#x884C;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x591A;&#x4E2A;defer&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x662F;&#x91C7;&#x7528;&#x5806;&#x6808;&#x903B;&#x8F91;&#xFF0C;&#x539F;&#x7406;&#x662F;&#x5148;&#x8FDB;&#x540E;&#x51FA;&#x6267;&#x884C;</p>
<pre class="language-"><code>defer &#x51FD;&#x6570;()
</code></pre><h2 id="&#x95ED;&#x5305;"><a name="&#x95ED;&#x5305;" class="anchor-navigation-ex-anchor" href="#&#x95ED;&#x5305;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x95ED;&#x5305;" class="plugin-anchor" href="#&#x95ED;&#x5305;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x95ED;&#x5305;</h2>
<p>&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x3002;</p>
<p>&#x539F;&#x7406;&#xFF1A;&#x51FD;&#x6570;&#x4E2D;&#x56DE;&#x8C03;&#x4E00;&#x4E2A;&#x5B50;&#x51FD;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x533F;&#x540D;&#x51FD;&#x6570;&#xFF0C;&#x56E0;&#x4E3A;&#x7236;&#x51FD;&#x6570;&#x88AB;&#x5B50;&#x51FD;&#x6570;&#x4F9D;&#x8D56;&#xFF0C;&#x6240;&#x4EE5;&#x5176;&#x51FD;&#x6570;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x53D8;&#x91CF;&#x4F1A;&#x4E00;&#x76F4;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x6BCF;&#x6B21;&#x8C03;&#x7528;&#x51FD;&#x6570;&#x540E;&#x4EA7;&#x751F;&#x53D8;&#x5316;&#x90FD;&#x662F;&#x5B58;&#x5728;&#x7684;&#x3002;</p>
<p>&#x53EF;&#x4EE5;&#x628A;&#x95ED;&#x5305;&#x7406;&#x89E3;&#x4E3A;&#x4E00;&#x4E2A;&#x5C01;&#x88C5;&#x7684;&#x73AF;&#x5883;&#x4E2D;&#x6267;&#x884C;&#x67D0;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x6BCF;&#x6B21;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x5B58;&#x50A8;&#x8FD9;&#x4E2A;&#x73AF;&#x5883;&#xFF0C;&#x6BCF;&#x6B21;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x5C31;&#x662F;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x95ED;&#x5305;&#x4E2D;&#x7684;&#x5B50;&#x51FD;&#x6570;&#x3002;</p>
<p>&#x6240;&#x4EE5;&#x4E00;&#x822C;&#x7236;&#x51FD;&#x6570;&#x4E2D;&#x505A;&#x7684;&#x662F;&#x73AF;&#x5883;&#x5B9A;&#x4E49;&#xFF0C;&#x5B50;&#x51FD;&#x6570;&#x505A;&#x7684;&#x662F;&#x64CD;&#x4F5C;&#x6267;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x5B9A;&#x4E49;&#x4E24;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x53D8;&#x91CF;&#x4E2D;&#x7684;&#x503C;&#x662F;&#x76F8;&#x4E92;&#x4E0D;&#x5F71;&#x54CD;&#x7684;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x6267;&#x884C;&#x7684;&#x7406;&#x89E3;&#xFF0C;&#x53EF;&#x4EE5;&#x662F; <code>f := function()</code> &#x7406;&#x89E3;&#x4E3A;&#x6267;&#x884C;&#x7236;&#x51FD;&#x6570;&#xFF0C; <code>f()</code> &#x7406;&#x89E3;&#x4E3A;&#x6267;&#x884C;&#x5B50;&#x51FD;&#x6570;</p>
<pre class="language-"><code>func &#x51FD;&#x6570;&#x540D;() func(&#x53C2;&#x6570;&#x7C7B;&#x578B;) &#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;{
    &#x76F8;&#x5173;&#x64CD;&#x4F5C;1
    return func(&#x53C2;&#x6570; &#x53C2;&#x6570;&#x7C7B;&#x578B;) &#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;{
        &#x76F8;&#x5173;&#x64CD;&#x4F5C;2
        return &#x8FD4;&#x56DE;&#x503C;
    }
}

# example
func function() func() {
    a := 1
    fmt.Println(&quot;&#x53EA;&#x6709;&#x7B2C;&#x4E00;&#x6B21;&#x6267;&#x884C;&#x51FD;&#x6570;&#x7684;&#x65F6;&#x5019;&#x624D;&#x4F1A;&#x89E6;&#x53D1;&quot;)
    return func(){
        a ++
        fmt.Println(&quot;&#x6BCF;&#x6B21;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x90FD;&#x4F1A;&#x6267;&#x884C;&#xFF0C;&#x5E76;&#x4E14;a&#x53D8;&#x91CF;&#x503C;&#x4F1A;&#x4E00;&#x76F4;&#x5B58;&#x5728;&quot;)
    }
}

# &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x5B58;&#x50A8;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;
f := function()
f()     // &#x8FD9;&#x5C31;&#x662F;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x95ED;&#x5305;
</code></pre><p>   &#x95ED;&#x5305;&#x53EF;&#x4EE5;&#x6709;&#x503C;&#x8F93;&#x5165;&#x6216;&#x8F93;&#x51FA;</p>
<pre class="language-"><code>func function() func(int) int{
    a := 1
    fmt.Println(&quot;&#x53EA;&#x6709;&#x7B2C;&#x4E00;&#x6B21;&#x6267;&#x884C;&#x51FD;&#x6570;&#x7684;&#x65F6;&#x5019;&#x624D;&#x4F1A;&#x89E6;&#x53D1;&quot;)
    return func(x int) int{
        a += x
        fmt.Println(&quot;&#x6BCF;&#x6B21;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x5427;&#x8F93;&#x5165;&#x7684;&#x6570;&#x52A0;&#x5165;&quot;)
        return a
    }
}

# &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x5B58;&#x50A8;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;
f := function()
f(12)     // &#x8FD9;&#x5C31;&#x662F;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x95ED;&#x5305;
</code></pre><h1 id="&#x53D8;&#x91CF;"><a name="&#x53D8;&#x91CF;" class="anchor-navigation-ex-anchor" href="#&#x53D8;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x53D8;&#x91CF;" class="plugin-anchor" href="#&#x53D8;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x53D8;&#x91CF;</h1>
<p>  &#x5B9A;&#x4E49;&#x7684;&#x6240;&#x6709;&#x53D8;&#x91CF;&#x90FD;&#x8981;&#x88AB;&#x4F7F;&#x7528; &#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x62A5;&#x9519; </p>
<h2 id="&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x8BBE;&#x5B9A;"><a name="&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x8BBE;&#x5B9A;" class="anchor-navigation-ex-anchor" href="#&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x8BBE;&#x5B9A;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x8BBE;&#x5B9A;" class="plugin-anchor" href="#&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x8BBE;&#x5B9A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x8BBE;&#x5B9A;</h2>
<pre class="language-"><code>&#x53D8;&#x91CF;&#x540D;1 &#x53D8;&#x91CF;&#x7C7B;&#x578B;1 , &#x53D8;&#x91CF;&#x540D;2 &#x53D8;&#x91CF;&#x7C7B;&#x578B;2

# &#x5F53;&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x76F8;&#x540C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7B49;&#x540C;&#x5982;&#x4E0B;
&#x53D8;&#x91CF;&#x540D;1 , &#x53D8;&#x91CF;&#x540D;2 &#x53D8;&#x91CF;&#x7C7B;&#x578B;

# example
x int , y int    &lt;====&gt;    x , y int
</code></pre><h2 id="&#x5B9A;&#x4E49;&#x53D8;&#x91CF;"><a name="&#x5B9A;&#x4E49;&#x53D8;&#x91CF;" class="anchor-navigation-ex-anchor" href="#&#x5B9A;&#x4E49;&#x53D8;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5B9A;&#x4E49;&#x53D8;&#x91CF;" class="plugin-anchor" href="#&#x5B9A;&#x4E49;&#x53D8;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B9A;&#x4E49;&#x53D8;&#x91CF;</h2>
<pre class="language-"><code>var &#x53D8;&#x91CF;&#x540D;1 , &#x53D8;&#x91CF;&#x540D;2 &#x53D8;&#x91CF;&#x7C7B;&#x578B;

# example
var x , y bool
</code></pre><h2 id="&#x53D8;&#x91CF;&#x521D;&#x59CB;&#x5316;&#x8D4B;&#x503C;"><a name="&#x53D8;&#x91CF;&#x521D;&#x59CB;&#x5316;&#x8D4B;&#x503C;" class="anchor-navigation-ex-anchor" href="#&#x53D8;&#x91CF;&#x521D;&#x59CB;&#x5316;&#x8D4B;&#x503C;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x53D8;&#x91CF;&#x521D;&#x59CB;&#x5316;&#x8D4B;&#x503C;" class="plugin-anchor" href="#&#x53D8;&#x91CF;&#x521D;&#x59CB;&#x5316;&#x8D4B;&#x503C;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x53D8;&#x91CF;&#x521D;&#x59CB;&#x5316;&#x8D4B;&#x503C;</h2>
<pre class="language-"><code>var &#x53D8;&#x91CF;&#x540D;1 , &#x53D8;&#x91CF;&#x540D;2 &#x53D8;&#x91CF;&#x7C7B;&#x578B; = &#x503C;1 , &#x503C;2

# &#x7CFB;&#x7EDF;&#x81EA;&#x52A8;&#x83B7;&#x53D6;&#x53D8;&#x91CF;&#x7C7B;&#x578B;
var &#x53D8;&#x91CF;&#x540D;1 , &#x53D8;&#x91CF;&#x540D;2 = &#x503C;1 , &#x503C;2

# example
var x , y int = 1 , 2
var x , y = 1 , 2
var (
    x = 1
    y = 2
)
</code></pre><p>&#x4E0B;&#x9762;&#x662F;&#x7B80;&#x6D01;&#x5199;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x80FD;&#x5728;&#x51FD;&#x6570;&#x5916;&#x4F7F;&#x7528;</p>
<pre class="language-"><code>&#x53D8;&#x91CF;1 , &#x53D8;&#x91CF;2 := &#x503C;1 , &#x503C;2

# example
x , y := 1 , 2
</code></pre><h2 id="&#x53D8;&#x91CF;&#x7C7B;&#x578B;"><a name="&#x53D8;&#x91CF;&#x7C7B;&#x578B;" class="anchor-navigation-ex-anchor" href="#&#x53D8;&#x91CF;&#x7C7B;&#x578B;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x53D8;&#x91CF;&#x7C7B;&#x578B;" class="plugin-anchor" href="#&#x53D8;&#x91CF;&#x7C7B;&#x578B;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x53D8;&#x91CF;&#x7C7B;&#x578B;</h2>
<table>
<thead>
<tr>
<th style="text-align:left">&#x53D8;&#x91CF;&#x7C7B;&#x578B;</th>
<th style="text-align:center">&#x542B;&#x4E49;</th>
<th style="text-align:center">&#x9ED8;&#x8BA4;&#x503C;</th>
<th style="text-align:center">&#x4EE3;&#x8868;&#x7B26;&#x53F7;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">bool</td>
<td style="text-align:center">&#x4EE3;&#x8868;ture &#x6216;&#x8005; false</td>
<td style="text-align:center">false</td>
<td style="text-align:center">%t</td>
</tr>
<tr>
<td style="text-align:left">string</td>
<td style="text-align:center">&#x4EE3;&#x8868;&#x5B57;&#x7B26;&#x4E32;</td>
<td style="text-align:center">(&#x7A7A;)</td>
<td style="text-align:center">%s</td>
</tr>
<tr>
<td style="text-align:left">int  int8  int16  int32  int64 uint uint8 uint16 uint32 uint64 uintptr</td>
<td style="text-align:center">&#x6574;&#x6570;&#x7C7B;&#x578B;</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td>%d</td>
</tr>
<tr>
<td style="text-align:left">byte</td>
<td style="text-align:center">uint8 &#x7684;&#x522B;&#x540D;</td>
<td style="text-align:center">0</td>
<td style="text-align:center">%d</td>
</tr>
<tr>
<td style="text-align:left">rune</td>
<td style="text-align:center">int32</td>
<td style="text-align:center">0</td>
<td style="text-align:center">%d</td>
</tr>
<tr>
<td style="text-align:left">float32 float64</td>
<td style="text-align:center">&#x6D6E;&#x70B9;&#x6570;</td>
<td style="text-align:center">0</td>
<td style="text-align:center">%f</td>
</tr>
<tr>
<td style="text-align:left">complex64 complex128</td>
<td style="text-align:center">&#x865A;&#x6570;</td>
<td style="text-align:center">(0+0i)</td>
</tr>
</tbody>
</table>
<h2 id="&#x7279;&#x6B8A;&#x8FD0;&#x7B97;"><a name="&#x7279;&#x6B8A;&#x8FD0;&#x7B97;" class="anchor-navigation-ex-anchor" href="#&#x7279;&#x6B8A;&#x8FD0;&#x7B97;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x7279;&#x6B8A;&#x8FD0;&#x7B97;" class="plugin-anchor" href="#&#x7279;&#x6B8A;&#x8FD0;&#x7B97;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7279;&#x6B8A;&#x8FD0;&#x7B97;</h2>
<pre class="language-"><code>&lt;&lt; &#x6240;&#x6709;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x5411;&#x5DE6;&#x79FB;&#x52A8;n&#x4F4D;
&gt;&gt; &#x6240;&#x6709;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x5411;&#x53F3;&#x79FB;&#x52A8;n&#x4F4D;
</code></pre><h3 id="&#x7C7B;&#x578B;&#x88C5;&#x6362;"><a name="&#x7C7B;&#x578B;&#x88C5;&#x6362;" class="anchor-navigation-ex-anchor" href="#&#x7C7B;&#x578B;&#x88C5;&#x6362;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x7C7B;&#x578B;&#x88C5;&#x6362;" class="plugin-anchor" href="#&#x7C7B;&#x578B;&#x88C5;&#x6362;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7C7B;&#x578B;&#x88C5;&#x6362;</h3>
<p>&#x8868;&#x8FBE;&#x5F0F; <code>T(v)</code> &#x5C06;&#x503C; <code>v</code> &#x8F6C;&#x6362;&#x4E3A;&#x7C7B;&#x578B; <code>T</code></p>
<pre class="language-"><code class="lang-go"><span class="token keyword">var</span> i <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">42</span>
<span class="token keyword">var</span> f <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token function">float64</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token keyword">var</span> u <span class="token builtin">uint</span> <span class="token operator">=</span> <span class="token function">uint</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>


#<span class="token builtin">string</span>&#x5230;<span class="token builtin">int</span>
<span class="token builtin">int</span><span class="token punctuation">,</span>err<span class="token operator">:=</span>strconv<span class="token punctuation">.</span><span class="token function">Atoi</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span>

#<span class="token builtin">string</span>&#x5230;<span class="token builtin">int64</span>
<span class="token builtin">int64</span><span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseInt</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span>

#<span class="token builtin">int</span>&#x5230;<span class="token builtin">string</span>
<span class="token builtin">string</span><span class="token operator">:=</span>strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>

#<span class="token builtin">int64</span>&#x5230;<span class="token builtin">string</span>
<span class="token builtin">string</span><span class="token operator">:=</span>strconv<span class="token punctuation">.</span><span class="token function">FormatInt</span><span class="token punctuation">(</span><span class="token builtin">int64</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>

# <span class="token builtin">byte</span>&#x5230;<span class="token builtin">string</span>
str<span class="token operator">:=</span><span class="token function">string</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>

#<span class="token builtin">string</span>&#x5230;float
v2<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseFloat</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="&#x83B7;&#x53D6;&#x53D8;&#x91CF;"><a name="&#x83B7;&#x53D6;&#x53D8;&#x91CF;" class="anchor-navigation-ex-anchor" href="#&#x83B7;&#x53D6;&#x53D8;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x83B7;&#x53D6;&#x53D8;&#x91CF;" class="plugin-anchor" href="#&#x83B7;&#x53D6;&#x53D8;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x83B7;&#x53D6;&#x53D8;&#x91CF;</h2>
<pre class="language-"><code>test string
flag.StringVar(&amp;test, &quot;&#x5916;&#x90E8;&#x8C03;&#x7528;&#x7684;&#x540D;&#x5B57;&quot;, &quot;&#x9ED8;&#x8BA4;&#x503C;&quot;, &quot;help&#x63D0;&#x793A;&#x6587;&#x5B57;&quot;)
flag.Parse()
// &#x7136;&#x540E;test&#x53D8;&#x91CF;&#x5C31;&#x4F1A;&#x901A;&#x8FC7;&#x5916;&#x90E8;&#x83B7;&#x53D6;&#x503C;
</code></pre><p>&#x89E3;&#x51B3;&#x6CA1;&#x6709;&#x8F93;&#x5165;&#x53C2;&#x6570;&#x7684;&#x5F02;&#x5E38;</p>
<pre class="language-"><code>    if mip == &quot;Error&quot; || cip == &quot;Error&quot; || vip == &quot;Error&quot; {
        flag.Usage()
        return
    }
</code></pre><h3 id="&#x5E38;&#x91CF;&#x5B9A;&#x4E49;"><a name="&#x5E38;&#x91CF;&#x5B9A;&#x4E49;" class="anchor-navigation-ex-anchor" href="#&#x5E38;&#x91CF;&#x5B9A;&#x4E49;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5E38;&#x91CF;&#x5B9A;&#x4E49;" class="plugin-anchor" href="#&#x5E38;&#x91CF;&#x5B9A;&#x4E49;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5E38;&#x91CF;&#x5B9A;&#x4E49;</h3>
<pre class="language-"><code>const &#x5E38;&#x91CF;1 , &#x5E38;&#x91CF;2 = &#x503C;1 , &#x503C;2

# &#x53EF;&#x4EE5;&#x5927;&#x6279;&#x91CF;&#x590D;&#x5236;
</code></pre><h2 id="&#x6307;&#x9488;"><a name="&#x6307;&#x9488;" class="anchor-navigation-ex-anchor" href="#&#x6307;&#x9488;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6307;&#x9488;" class="plugin-anchor" href="#&#x6307;&#x9488;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6307;&#x9488;</h2>
<p>&#x5176;&#x96F6;&#x503C;&#x662F; <code>nil</code></p>
<pre class="language-"><code>*&#x7C7B;&#x578B; &#x6307;&#x4EE3;&#x67D0;&#x7C7B;&#x578B;&#x7684;&#x6307;&#x9488;
</code></pre><pre class="language-"><code># example
var i *int
</code></pre><p>&#x90A3;&#x4E48; i &#x7684;&#x503C;&#x5C31;&#x662F; nil ;
&#x5728;&#x4E0D;&#x8D4B;&#x503C;&#x53BB;&#x60C5;&#x51B5;&#x4E0B;&#x4F7F;&#x7528; *i &#x4F1A;&#x62A5;&#x544A;&#x5F02;&#x5E38;</p>
<h1 id="&#x5FAA;&#x73AF;"><a name="&#x5FAA;&#x73AF;" class="anchor-navigation-ex-anchor" href="#&#x5FAA;&#x73AF;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5FAA;&#x73AF;" class="plugin-anchor" href="#&#x5FAA;&#x73AF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5FAA;&#x73AF;</h1>
<h2 id="&#x57FA;&#x672C;for&#x5FAA;&#x73AF;"><a name="&#x57FA;&#x672C;for&#x5FAA;&#x73AF;" class="anchor-navigation-ex-anchor" href="#&#x57FA;&#x672C;for&#x5FAA;&#x73AF;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x57FA;&#x672C;for&#x5FAA;&#x73AF;" class="plugin-anchor" href="#&#x57FA;&#x672C;for&#x5FAA;&#x73AF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x57FA;&#x672C;for&#x5FAA;&#x73AF;</h2>
<p>&#x540C;C++&#x7684;for</p>
<pre class="language-"><code>for i := &#x521D;&#x59CB;&#x503C; ; i &lt; &#x6700;&#x5927;&#x503C; ; i ++ {
    &#x2026;&#x2026;&#x2026;&#x2026;
}
</code></pre><h2 id="&#x521D;&#x59CB;&#x503C;&#x548C;&#x6570;&#x636E;&#x53D8;&#x5316;&#x6A21;&#x5757;&#x4E0D;&#x5199;"><a name="&#x521D;&#x59CB;&#x503C;&#x548C;&#x6570;&#x636E;&#x53D8;&#x5316;&#x6A21;&#x5757;&#x4E0D;&#x5199;" class="anchor-navigation-ex-anchor" href="#&#x521D;&#x59CB;&#x503C;&#x548C;&#x6570;&#x636E;&#x53D8;&#x5316;&#x6A21;&#x5757;&#x4E0D;&#x5199;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x521D;&#x59CB;&#x503C;&#x548C;&#x6570;&#x636E;&#x53D8;&#x5316;&#x6A21;&#x5757;&#x4E0D;&#x5199;" class="plugin-anchor" href="#&#x521D;&#x59CB;&#x503C;&#x548C;&#x6570;&#x636E;&#x53D8;&#x5316;&#x6A21;&#x5757;&#x4E0D;&#x5199;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521D;&#x59CB;&#x503C;&#x548C;&#x6570;&#x636E;&#x53D8;&#x5316;&#x6A21;&#x5757;&#x4E0D;&#x5199;</h2>
<p>&#x8BED;&#x6CD5;&#x89C4;&#x5219;&#xFF0C;&#x540C;C++&#x7684;while</p>
<pre class="language-"><code>for i &lt; &#x503C; {
}
</code></pre><h2 id="&#x6B7B;&#x5FAA;&#x73AF;"><a name="&#x6B7B;&#x5FAA;&#x73AF;" class="anchor-navigation-ex-anchor" href="#&#x6B7B;&#x5FAA;&#x73AF;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6B7B;&#x5FAA;&#x73AF;" class="plugin-anchor" href="#&#x6B7B;&#x5FAA;&#x73AF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6B7B;&#x5FAA;&#x73AF;</h2>
<pre class="language-"><code>for {
}
</code></pre><h2 id="&#x7528;range&#x548C;&#x6570;&#x7EC4;&#x76F8;&#x7ED3;&#x5408;"><a name="&#x7528;range&#x548C;&#x6570;&#x7EC4;&#x76F8;&#x7ED3;&#x5408;" class="anchor-navigation-ex-anchor" href="#&#x7528;range&#x548C;&#x6570;&#x7EC4;&#x76F8;&#x7ED3;&#x5408;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x7528;range&#x548C;&#x6570;&#x7EC4;&#x76F8;&#x7ED3;&#x5408;" class="plugin-anchor" href="#&#x7528;range&#x548C;&#x6570;&#x7EC4;&#x76F8;&#x7ED3;&#x5408;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7528;range&#x548C;&#x6570;&#x7EC4;&#x76F8;&#x7ED3;&#x5408;</h2>
<p>&#x4F1A;&#x904D;&#x5386;&#x6574;&#x4E2A;&#x6570;&#x7EC4;&#x4E2D;&#x6240;&#x6709;&#x5143;&#x7D20;&#xFF0C;&#x7136;&#x540E;&#x6BCF;&#x6B21;&#x90FD;&#x4F1A;&#x628A;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7ED9;&#x53D8;&#x91CF;2&#xFF0C;&#x800C;&#x53D8;&#x91CF;1&#x4F1A;&#x6BCF;&#x6B21;+1</p>
<pre class="language-"><code>for &#x53D8;&#x8138;1,&#x53D8;&#x91CF;2 := range &#x6570;&#x7EC4;&#x540D;{
    &#x2026;&#x2026; &#x2026;&#x2026;
}
</code></pre><p>&#x53D8;&#x91CF;1&#x7528;&#x6765;&#x8BB0;&#x5F55;&#x9700;&#x8981;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0D;&#x5199;</p>
<h1 id="&#x5224;&#x65AD;"><a name="&#x5224;&#x65AD;" class="anchor-navigation-ex-anchor" href="#&#x5224;&#x65AD;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5224;&#x65AD;" class="plugin-anchor" href="#&#x5224;&#x65AD;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5224;&#x65AD;</h1>
<pre class="language-"><code>if &#x5224;&#x65AD;&#x8BED;&#x53E5; {
} else {
}
</code></pre><p> &#x5224;&#x65AD;&#x8BED;&#x53E5;&#x4E2D;&#x53EF;&#x4EE5;&#x6709;&#x53D8;&#x91CF;&#x5B9A;&#x4E49;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre class="language-"><code>if err:=test();err != nil {
} else {
}
</code></pre><h2 id="switch---case"><a name="switch---case" class="anchor-navigation-ex-anchor" href="#switch---case"><i class="fa fa-link" aria-hidden="true"></i></a><a name="switch---case" class="plugin-anchor" href="#switch---case"><i class="fa fa-link" aria-hidden="true"></i></a>switch - case</h2>
<pre class="language-"><code>switch i {
case &quot;&#x503C;1&quot;:
    &#x2026;&#x2026;
case &#x51FD;&#x6570;&#x540D;():
    &#x2026;&#x2026;    
defalut:
    &#x2026;&#x2026;
}
</code></pre><h1 id="&#x7ED3;&#x6784;&#x4F53;"><a name="&#x7ED3;&#x6784;&#x4F53;" class="anchor-navigation-ex-anchor" href="#&#x7ED3;&#x6784;&#x4F53;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x7ED3;&#x6784;&#x4F53;" class="plugin-anchor" href="#&#x7ED3;&#x6784;&#x4F53;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7ED3;&#x6784;&#x4F53;</h1>
<p>&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;</p>
<pre class="language-"><code>type &#x7ED3;&#x6784;&#x4F53;&#x540D; struct{
    &#x53D8;&#x91CF;1 &#x7C7B;&#x578B;
    &#x53D8;&#x91CF;2 &#x7C7B;&#x578B;
}

# &#x4F7F;&#x7528;&#x65B9;&#x6CD5;
&#x7ED3;&#x6784;&#x4F53;.&#x53D8;&#x91CF;
</code></pre><h2 id="&#x7ED3;&#x6784;&#x4F53;&#x6307;&#x9488;"><a name="&#x7ED3;&#x6784;&#x4F53;&#x6307;&#x9488;" class="anchor-navigation-ex-anchor" href="#&#x7ED3;&#x6784;&#x4F53;&#x6307;&#x9488;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x7ED3;&#x6784;&#x4F53;&#x6307;&#x9488;" class="plugin-anchor" href="#&#x7ED3;&#x6784;&#x4F53;&#x6307;&#x9488;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7ED3;&#x6784;&#x4F53;&#x6307;&#x9488;</h2>
<pre class="language-"><code>&#x7ED3;&#x6784;&#x4F53;&#x53D8;&#x91CF; := &#x7ED3;&#x6784;&#x4F53;{&#x503C;1,&#x503C;2&#x2026;&#x2026;}
&#x6307;&#x9488;&#x540D; := &amp;&#x7ED3;&#x6784;&#x4F53;&#x53D8;&#x91CF;

# example
a := add{1,2}
b := &amp;a
b.x &#x7684;&#x503C;&#x5C31;&#x662F;1
</code></pre><p><strong>go&#x6CA1;&#x6709;&#x7C7B;&#x7684;&#x8BF4;&#x6CD5;,&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x5C31;&#x7ED3;&#x6784;&#x4F53;&#x8FDB;&#x884C;&#x51FD;&#x6570;&#x65B9;&#x6CD5;&#x7684;&#x5B9A;&#x4E49;</strong></p>
<p>&#x8BED;&#x6CD5;&#x7C7B;&#x4F3C;&#x4E8E;&#x95ED;&#x5305;&#xFF0C;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x3002;</p>
<pre class="language-"><code class="lang-go"><span class="token keyword">func</span> <span class="token punctuation">(</span>&#x7ED3;&#x6784;&#x4F53;&#x53D8;&#x91CF; &#x7ED3;&#x6784;&#x4F53;&#x7C7B;&#x578B;<span class="token punctuation">)</span> &#x65B9;&#x6CD5;&#x540D;<span class="token punctuation">(</span><span class="token punctuation">)</span>  &#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;<span class="token punctuation">{</span>
    <span class="token keyword">return</span> &#x6307;&#x5B9A;&#x7C7B;&#x578B;&#x7684;&#x503C;
<span class="token punctuation">}</span>

&#x7ED3;&#x6784;&#x4F53;&#x53D8;&#x91CF; <span class="token operator">:=</span> &#x7ED3;&#x6784;&#x4F53;&#x2026;&#x2026;&#x2026;&#x2026;
&#x7ED3;&#x6784;&#x4F53;&#x53D8;&#x91CF;<span class="token punctuation">.</span>&#x65B9;&#x6CD5;&#x540D;<span class="token punctuation">(</span><span class="token punctuation">)</span>

# example
<span class="token keyword">type</span> Vertex <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    X <span class="token builtin">int</span>
    Y <span class="token builtin">int</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>v <span class="token operator">*</span>Vertex<span class="token punctuation">)</span> <span class="token function">Abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">float64</span> <span class="token punctuation">{</span>
    sum <span class="token operator">:=</span> v<span class="token punctuation">.</span>X <span class="token operator">*</span> v<span class="token punctuation">.</span>X <span class="token operator">+</span> v<span class="token punctuation">.</span>Y <span class="token operator">*</span> v<span class="token punctuation">.</span>Y
    <span class="token keyword">return</span> math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span><span class="token function">float64</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
    v <span class="token operator">:=</span> Vertex<span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<p>&#x4E0D;&#x5149;&#x53EF;&#x4EE5;&#x5BF9;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x7ED3;&#x6784;&#x4F53;&#x8FDB;&#x884C;&#x5B9A;&#x4E49;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5BF9;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x4F46;&#x662F;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E00;&#x4E2A;&#x540D;&#x5B57;</p>
<pre class="language-"><code>type Vertex float

func (v Vertex) Abs() float64 {
    return math.Sqrt(float64(v))
}
</code></pre><h2 id="&#x53CD;&#x5C04;&#x5BF9;&#x8C61;"><a name="&#x53CD;&#x5C04;&#x5BF9;&#x8C61;" class="anchor-navigation-ex-anchor" href="#&#x53CD;&#x5C04;&#x5BF9;&#x8C61;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x53CD;&#x5C04;&#x5BF9;&#x8C61;" class="plugin-anchor" href="#&#x53CD;&#x5C04;&#x5BF9;&#x8C61;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x53CD;&#x5C04;&#x5BF9;&#x8C61;</h2>
<pre class="language-"><code class="lang-go">    <span class="token keyword">var</span> conf configJson
  <span class="token comment">// &#x53CD;&#x5C04;&#x5BF9;&#x8C61;configJson&#xFF0C;&#x904D;&#x5386;&#x83B7;&#x53D6;&#x6240;&#x6709;&#x503C;</span>
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>conf<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">NumField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        name <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>conf<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span>Tag<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;json&quot;</span><span class="token punctuation">)</span>
        flag<span class="token punctuation">.</span><span class="token function">StringVar</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&#x8F93;&#x5165;&quot;</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">&quot;&#x7684;&#x503C;&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    flag<span class="token punctuation">.</span><span class="token function">IntVar</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>routing<span class="token punctuation">,</span> <span class="token string">&quot;route&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;&#x8F93;&#x5165;&#x4E0A;&#x4F20;&#x5E76;&#x53D1;&#x6570;&quot;</span><span class="token punctuation">)</span>
    flag<span class="token punctuation">.</span><span class="token function">StringVar</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tmpFileDir<span class="token punctuation">,</span> <span class="token string">&quot;tmpDir&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/work/tmp/uploadToOss&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&#x8F93;&#x5165;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x4F4D;&#x7F6E;&quot;</span><span class="token punctuation">)</span>
    flag<span class="token punctuation">.</span><span class="token function">StringVar</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>module<span class="token punctuation">,</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;check&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&#x8F93;&#x5165;&#x4F7F;&#x7528;&#x7684;&#x529F;&#x80FD;&#x6A21;&#x5757;(upload&#x3001;check)&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">// &#x68C0;&#x9A8C;&#x662F;&#x5426;&#x6240;&#x6709;&#x503C;&#x90FD;&#x5B58;&#x5728;</span>
    flag<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>conf<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">NumField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>conf<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">SetString</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>conf<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;error&quot;</span> <span class="token punctuation">{</span>
            flag<span class="token punctuation">.</span><span class="token function">Usage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            ErrorLog<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;please input: &quot;</span><span class="token punctuation">,</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>conf<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span>Tag<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre>
<p>&#x7528;&#x4E8E;&#x904D;&#x5386;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x5185;&#x6240;&#x6709;&#x5143;&#x7D20;&#x4FE1;&#x606F;&#xFF0C;&#x8FDB;&#x884C;&#x76F8;&#x5173;&#x64CD;&#x4F5C;</p>
<h2 id="&#x5BF9;&#x8C61;&#x64CD;&#x4F5C;"><a name="&#x5BF9;&#x8C61;&#x64CD;&#x4F5C;" class="anchor-navigation-ex-anchor" href="#&#x5BF9;&#x8C61;&#x64CD;&#x4F5C;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5BF9;&#x8C61;&#x64CD;&#x4F5C;" class="plugin-anchor" href="#&#x5BF9;&#x8C61;&#x64CD;&#x4F5C;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5BF9;&#x8C61;&#x64CD;&#x4F5C;</h2>
<pre class="language-"><code class="lang-go"><span class="token comment">// &#x4E3A;NatHostsMapType&#x8FD9;&#x4E2A;&#x7C7B;&#x5B9A;&#x4E49;Exist&#x65B9;&#x6CD5;</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>NatHostsMapType<span class="token punctuation">)</span> <span class="token function">Exist</span><span class="token punctuation">(</span>ht HostsTable<span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
    m<span class="token punctuation">.</span>Lock<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">defer</span> m<span class="token punctuation">.</span>Lock<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> isError <span class="token operator">:=</span> m<span class="token punctuation">.</span>Data<span class="token punctuation">[</span>ht<span class="token punctuation">.</span>IP<span class="token punctuation">]</span><span class="token punctuation">;</span> isError <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h1 id="&#x6570;&#x7EC4;-slice"><a name="&#x6570;&#x7EC4;-slice" class="anchor-navigation-ex-anchor" href="#&#x6570;&#x7EC4;-slice"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6570;&#x7EC4;-slice" class="plugin-anchor" href="#&#x6570;&#x7EC4;-slice"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6570;&#x7EC4; slice</h1>
<p>&#x5176;&#x7A7A;&#x503C;&#x4E3A; nil</p>
<pre class="language-"><code># &#x57FA;&#x672C;&#x683C;&#x5F0F;
&#x6570;&#x7EC4;&#x540D; []&#x6570;&#x636E;&#x7C7B;&#x578B;

# make&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x683C;&#x5F0F;
&#x6570;&#x7EC4;&#x540D; := make([]&#x6570;&#x636E;&#x7C7B;&#x578B; , len&#x521D;&#x59CB;&#x503C; &#xFF0C; cap&#x521D;&#x59CB;&#x503C;)

# &#x65B0;&#x6DFB;&#x52A0;&#x5143;&#x7D20;
&#x6570;&#x7EC4;&#x540D; = append(&#x6570;&#x7EC4;&#x540D;,&#x503C;1,&#x503C;2)
</code></pre><p>len&#x9ED8;&#x8BA4;&#x503C;&#x662F;0  ,  cap&#x9ED8;&#x8BA4;&#x503C;&#x662F;0</p>
<h2 id="&#x5207;&#x7247;&#x76F8;&#x5173;&#x6982;&#x5FF5;"><a name="&#x5207;&#x7247;&#x76F8;&#x5173;&#x6982;&#x5FF5;" class="anchor-navigation-ex-anchor" href="#&#x5207;&#x7247;&#x76F8;&#x5173;&#x6982;&#x5FF5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5207;&#x7247;&#x76F8;&#x5173;&#x6982;&#x5FF5;" class="plugin-anchor" href="#&#x5207;&#x7247;&#x76F8;&#x5173;&#x6982;&#x5FF5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5207;&#x7247;&#x76F8;&#x5173;&#x6982;&#x5FF5;</h2>
<p>len&#x4EE3;&#x8868;slice&#x5B9E;&#x9645;&#x5143;&#x7D20;&#x7684;&#x4E2A;&#x6570;&#xFF1B;
cap&#x4EE3;&#x8868;&#x5F53;&#x524D;slice&#x7684;&#x5BB9;&#x91CF;</p>
<p>&#x5F53;len&#x7684;&#x957F;&#x5EA6;&#x4E0D;&#x8DB3;&#x591F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x628A;&#x6570;&#x636E;&#x5B58;&#x5230;&#x5BB9;&#x91CF;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x8FBE;&#x5230;&#x521D;&#x59CB;&#x8BBE;&#x5B9A;&#x5BB9;&#x91CF;&#xFF0C;&#x5C31;&#x4F1A;&#x6DFB;&#x52A0;&#x65B0;&#x52A0;&#x4E00;&#x4E2A;&#x4E0D;&#x6BD4;&#x521D;&#x59CB;&#x5BB9;&#x91CF;&#x5C0F;&#x7684;&#x65B0;&#x5BB9;&#x91CF;&#xFF0C;&#x6DFB;&#x52A0;&#x7684;&#x5BB9;&#x91CF;&#x65E0;&#x4E0A;&#x9650;&#x3002;</p>
<ol>
<li>&#x539F;&#x5219;&#xFF1A;cap&gt;=len</li>
<li>cap&#x4E00;&#x5B9A;&#x662F;&#x5076;&#x6570;</li>
<li>cap&#x8981;&#x4E48;&#x548C;&#x521D;&#x59CB;cap&#x76F8;&#x540C;&#xFF0C;&#x8981;&#x4E48;&#x662F;&gt;=(cap&#x521D;&#x59CB;&#x503C;*2)</li>
</ol>
<h2 id="&#x952E;&#x540D;&#x6620;&#x5C04;"><a name="&#x952E;&#x540D;&#x6620;&#x5C04;" class="anchor-navigation-ex-anchor" href="#&#x952E;&#x540D;&#x6620;&#x5C04;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x952E;&#x540D;&#x6620;&#x5C04;" class="plugin-anchor" href="#&#x952E;&#x540D;&#x6620;&#x5C04;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x952E;&#x540D;&#x6620;&#x5C04;</h2>
<p>&#x4E00;&#x822C;&#x548C;make&#x8FDE;&#x7528;&#xFF0C;&#x8FD9;&#x4E2A;&#x4E0D;&#x8981;&#x6C42;&#x6709;&#x6570;&#x636E;</p>
<pre class="language-"><code>&#x6570;&#x7EC4;&#x540D; = make(map[&#x952E;&#x540D;&#x7C7B;&#x578B;]&#x6570;&#x7EC4;&#x7C7B;&#x578B;)

# &#x8D4B;&#x503C;&#x7684;&#x65F6;&#x5019;
&#x6570;&#x7EC4;&#x540D;[&#x4EFB;&#x610F;&#x952E;&#x540D;] = &#x6EE1;&#x8DB3;&#x6570;&#x7EC4;&#x7C7B;&#x578B;&#x503C;
</code></pre><p>&#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x5C31;&#x662F;&#x8BA9;&#x6570;&#x7EC4;&#x7684;&#x952E;&#x540D;(&#x4E0B;&#x6807;)&#xFF0C;&#x53EF;&#x4EE5;&#x88AB;&#x81EA;&#x5B9A;&#x4E49;</p>
<p>&#x5982;&#x679C;&#x6709;&#x6570;&#x636E;</p>
<pre class="language-"><code> &#x6570;&#x7EC4;&#x540D; = map[&#x952E;&#x540D;&#x7C7B;&#x578B;]&#x6570;&#x7EC4;&#x7C7B;&#x578B;{
     &#x952E;&#x540D;1 : {&#x503C;1 , &#x503C;2}
     &#x952E;&#x540D;2 : {&#x503C;1 , &#x503C;2}
}
</code></pre><h3 id="&#x5220;&#x9664;&#x67D0;&#x952E;&#x540D;&#x7684;&#x5143;&#x7D20;"><a name="&#x5220;&#x9664;&#x67D0;&#x952E;&#x540D;&#x7684;&#x5143;&#x7D20;" class="anchor-navigation-ex-anchor" href="#&#x5220;&#x9664;&#x67D0;&#x952E;&#x540D;&#x7684;&#x5143;&#x7D20;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5220;&#x9664;&#x67D0;&#x952E;&#x540D;&#x7684;&#x5143;&#x7D20;" class="plugin-anchor" href="#&#x5220;&#x9664;&#x67D0;&#x952E;&#x540D;&#x7684;&#x5143;&#x7D20;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5220;&#x9664;&#x67D0;&#x952E;&#x540D;&#x7684;&#x5143;&#x7D20;</h3>
<pre class="language-"><code>delete(&#x6570;&#x7EC4;&#xFF0C;&#x952E;&#x540D;)
</code></pre><h3 id="&#x67E5;&#x770B;&#x67D0;&#x952E;&#x540D;&#x7684;&#x5143;&#x7D20;&#x662F;&#x5426;&#x5B58;&#x5728;"><a name="&#x67E5;&#x770B;&#x67D0;&#x952E;&#x540D;&#x7684;&#x5143;&#x7D20;&#x662F;&#x5426;&#x5B58;&#x5728;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x770B;&#x67D0;&#x952E;&#x540D;&#x7684;&#x5143;&#x7D20;&#x662F;&#x5426;&#x5B58;&#x5728;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x67E5;&#x770B;&#x67D0;&#x952E;&#x540D;&#x7684;&#x5143;&#x7D20;&#x662F;&#x5426;&#x5B58;&#x5728;" class="plugin-anchor" href="#&#x67E5;&#x770B;&#x67D0;&#x952E;&#x540D;&#x7684;&#x5143;&#x7D20;&#x662F;&#x5426;&#x5B58;&#x5728;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x770B;&#x67D0;&#x952E;&#x540D;&#x7684;&#x5143;&#x7D20;&#x662F;&#x5426;&#x5B58;&#x5728;</h3>
<pre class="language-"><code>&#x53D8;&#x91CF;&#x540D; , &#x5B58;&#x50A8;&#x72B6;&#x6001;&#x53D8;&#x91CF; := &#x6570;&#x7EC4;&#x540D;[&#x952E;&#x540D;]
&#x53D8;&#x91CF;&#x540D; , &#x5B58;&#x50A8;&#x72B6;&#x6001;&#x53D8;&#x91CF; = &#x6570;&#x7EC4;&#x540D;[&#x952E;&#x540D;]
</code></pre><h1 id="&#x63A5;&#x53E3;"><a name="&#x63A5;&#x53E3;" class="anchor-navigation-ex-anchor" href="#&#x63A5;&#x53E3;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x63A5;&#x53E3;" class="plugin-anchor" href="#&#x63A5;&#x53E3;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x63A5;&#x53E3;</h1>
<p>&#x63A5;&#x53E3;&#x7C7B;&#x578B;&#x662F;&#x7531;&#x4E00;&#x7EC4;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49;&#x7684;&#x96C6;&#x5408;&#x3002; &#x63A5;&#x53E3;&#x7C7B;&#x578B;&#x7684;&#x503C;&#x53EF;&#x4EE5;&#x5B58;&#x653E;&#x5B9E;&#x73B0;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x7684;&#x4EFB;&#x4F55;&#x503C;&#x3002;
&#x4F46;&#x662F;&#x4E0D;&#x9700;&#x8981;&#x5B8C;&#x6210;&#x63A5;&#x53E3;&#x5185;&#x65B9;&#x6CD5;&#x7684;&#x5177;&#x4F53;&#x5185;&#x5BB9;&#x3002;</p>
<pre class="language-"><code>type &#x63A5;&#x53E3;&#x540D; interface{
    &#x65B9;&#x6CD5;&#x540D;() &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x503C;
}
</code></pre><h1 id="&#x65E5;&#x5FD7;&#x5904;&#x7406;"><a name="&#x65E5;&#x5FD7;&#x5904;&#x7406;" class="anchor-navigation-ex-anchor" href="#&#x65E5;&#x5FD7;&#x5904;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x65E5;&#x5FD7;&#x5904;&#x7406;" class="plugin-anchor" href="#&#x65E5;&#x5FD7;&#x5904;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x65E5;&#x5FD7;&#x5904;&#x7406;</h1>
<pre class="language-"><code class="lang-go">  <span class="token keyword">var</span> InfoLog   <span class="token operator">*</span>log<span class="token punctuation">.</span>Logger
    file<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">OpenFile</span><span class="token punctuation">(</span><span class="token function">UpdateLog</span><span class="token punctuation">(</span>LogFileName<span class="token punctuation">)</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span>O_CREATE<span class="token operator">|</span>os<span class="token punctuation">.</span>O_WRONLY<span class="token operator">|</span>os<span class="token punctuation">.</span>O_APPEND<span class="token punctuation">,</span> <span class="token number">0666</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span><span class="token function">UpdateLog</span><span class="token punctuation">(</span>LogFileName<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &#x6587;&#x4EF6;&#x65E0;&#x6CD5;&#x6253;&#x5F00;&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    InfoLog <span class="token operator">=</span> log<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span>
        <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        log<span class="token punctuation">.</span>Ldate<span class="token operator">|</span>log<span class="token punctuation">.</span>Ltime<span class="token operator">|</span>log<span class="token punctuation">.</span>Lshortfile<span class="token punctuation">)</span>
</code></pre>
<h1 id="json&#x5904;&#x7406;"><a name="json&#x5904;&#x7406;" class="anchor-navigation-ex-anchor" href="#json&#x5904;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="json&#x5904;&#x7406;" class="plugin-anchor" href="#json&#x5904;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>Json&#x5904;&#x7406;</h1>
<p>json&#x6587;&#x4EF6;&#x7ED3;&#x6784;&#x4F53;</p>
<pre class="language-"><code>type json&#x7ED3;&#x6784;&#x4F53;&#x540D; struct {
    &#x4EE3;&#x8868;&#x540D;1(&#x5F00;&#x5934;&#x5927;&#x5199;)      string `json:&quot;json&#x540D;&quot;`
    &#x4EE3;&#x8868;&#x540D;2(&#x5F00;&#x5934;&#x5927;&#x5199;)      int    `json:&quot;json&#x540D;&quot;`
}
</code></pre><p>&#x5C06;string&#x89E3;&#x8BFB;&#x4E3A;json&#x6570;&#x636E;</p>
<pre class="language-"><code>// &#x89E3;&#x6790;json&#x683C;&#x5F0F;&#x7684;string&#x4FE1;&#x606F;
func ReadStringToJson(body string) json&#x683C;&#x5F0F; {
    var jsonfile json&#x683C;&#x5F0F;
    if err := json.Unmarshal([]byte(body), &amp;jsonfile); err != nil {
        log.Fatal(err.Error())
    }
    return jsonfile
}
</code></pre><p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;json&#x6587;&#x4EF6;</p>
<pre class="language-"><code>    jsonfile := json&#x683C;&#x5F0F; {
        &#x4EE3;&#x8868;&#x540D;1: &quot;&#x503C;&quot;,
        &#x4EE3;&#x8868;&#x540D;2: &#x503C;,
        ...
    }
</code></pre><p>&#x5C06;json&#x683C;&#x5F0F;&#x8F6C;&#x5316;&#x4E3A;string</p>
<pre class="language-"><code>func (mj json&#x683C;&#x5F0F;) ReadJson() (string) {
    js, _ := json.Marshal(&amp;mj)
    return string(js)
}
</code></pre><p>&#x65AD;&#x8A00;&#x5904;&#x7406;&#xFF0C;&#x83B7;&#x53D6;&#x9700;&#x8981;&#x7684;Json&#x6570;&#x636E;</p>
<pre class="language-"><code class="lang-go"><span class="token keyword">func</span> <span class="token function">ReadProjectJsonString</span><span class="token punctuation">(</span>jsonData <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> v <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">if</span> err <span class="token operator">:=</span> json<span class="token punctuation">.</span><span class="token function">Unmarshal</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>jsonData<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatalln</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    data <span class="token operator">:=</span> v<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    data_2 <span class="token operator">:=</span> data<span class="token punctuation">[</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    data_3 <span class="token operator">:=</span> data_2<span class="token punctuation">[</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> data_3 <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%v&quot;</span><span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h1 id="&#x5F02;&#x5E38;&#x5904;&#x7406;"><a name="&#x5F02;&#x5E38;&#x5904;&#x7406;" class="anchor-navigation-ex-anchor" href="#&#x5F02;&#x5E38;&#x5904;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5F02;&#x5E38;&#x5904;&#x7406;" class="plugin-anchor" href="#&#x5F02;&#x5E38;&#x5904;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5F02;&#x5E38;&#x5904;&#x7406;</h1>
<pre class="language-"><code>if err := buildMha() ; err != nil {
    // &#x7A0B;&#x5E8F;&#x7EE7;&#x7EED;&#xFF0C;&#x4E2D;&#x65AD;&#x51FD;&#x6570;
    log.Panic(err)

    // &#x76F4;&#x63A5;&#x5207;&#x65AD;&#x7A0B;&#x5E8F;
    log.Fatal(err)
}
</code></pre><h1 id="&#x5199;&#x6587;&#x4EF6;"><a name="&#x5199;&#x6587;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#&#x5199;&#x6587;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5199;&#x6587;&#x4EF6;" class="plugin-anchor" href="#&#x5199;&#x6587;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5199;&#x6587;&#x4EF6;</h1>
<h2 id="&#x8986;&#x76D6;&#x5199;"><a name="&#x8986;&#x76D6;&#x5199;" class="anchor-navigation-ex-anchor" href="#&#x8986;&#x76D6;&#x5199;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x8986;&#x76D6;&#x5199;" class="plugin-anchor" href="#&#x8986;&#x76D6;&#x5199;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8986;&#x76D6;&#x5199;</h2>
<pre class="language-"><code class="lang-go">    err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">WriteFile</span><span class="token punctuation">(</span><span class="token string">&quot;test.txt&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;Hi\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0666</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre>
<h2 id="&#x8FFD;&#x52A0;&#x5199;"><a name="&#x8FFD;&#x52A0;&#x5199;" class="anchor-navigation-ex-anchor" href="#&#x8FFD;&#x52A0;&#x5199;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x8FFD;&#x52A0;&#x5199;" class="plugin-anchor" href="#&#x8FFD;&#x52A0;&#x5199;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8FFD;&#x52A0;&#x5199;</h2>
<pre class="language-"><code class="lang-go"><span class="token keyword">func</span> <span class="token function">myWrite</span><span class="token punctuation">(</span>config <span class="token builtin">string</span><span class="token punctuation">,</span> word <span class="token operator">...</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> i <span class="token operator">:=</span> <span class="token keyword">range</span> word <span class="token punctuation">{</span>
        f<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">OpenFile</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span> os<span class="token punctuation">.</span>O_WRONLY<span class="token punctuation">,</span> <span class="token number">0644</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;cacheFileList.yml file create failed. err: &quot;</span> <span class="token operator">+</span> err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// &#x67E5;&#x627E;&#x6587;&#x4EF6;&#x672B;&#x5C3E;&#x7684;&#x504F;&#x79FB;&#x91CF;</span>
            n<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> f<span class="token punctuation">.</span><span class="token function">Seek</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span>SEEK_END<span class="token punctuation">)</span>
            <span class="token comment">// &#x4ECE;&#x672B;&#x5C3E;&#x7684;&#x504F;&#x79FB;&#x91CF;&#x5F00;&#x59CB;&#x5199;&#x5165;&#x5185;&#x5BB9;</span>
            <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">WriteAt</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token boolean">_</span> <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;cacheFileList.yml file writed failed. err: &quot;</span> <span class="token operator">+</span> err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre>
<h1 id="linux"><a name="linux" class="anchor-navigation-ex-anchor" href="#linux"><i class="fa fa-link" aria-hidden="true"></i></a><a name="linux" class="plugin-anchor" href="#linux"><i class="fa fa-link" aria-hidden="true"></i></a>Linux</h1>
<h2 id="ssh&#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x5668;"><a name="ssh&#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x5668;" class="anchor-navigation-ex-anchor" href="#ssh&#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="ssh&#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x5668;" class="plugin-anchor" href="#ssh&#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a>ssh&#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x5668;</h2>
<pre class="language-"><code class="lang-go"><span class="token keyword">func</span> <span class="token function">connect</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> password<span class="token punctuation">,</span> host<span class="token punctuation">,</span> key <span class="token builtin">string</span><span class="token punctuation">,</span> port <span class="token builtin">int</span><span class="token punctuation">,</span> cipherList <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token operator">*</span>ssh<span class="token punctuation">.</span>Session<span class="token punctuation">,</span><span class="token operator">*</span>ssh<span class="token punctuation">.</span>Client<span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> <span class="token punctuation">(</span>
        auth         <span class="token punctuation">[</span><span class="token punctuation">]</span>ssh<span class="token punctuation">.</span>AuthMethod
        addr         <span class="token builtin">string</span>
        clientConfig <span class="token operator">*</span>ssh<span class="token punctuation">.</span>ClientConfig
        client       <span class="token operator">*</span>ssh<span class="token punctuation">.</span>Client
        config       ssh<span class="token punctuation">.</span>Config
        session      <span class="token operator">*</span>ssh<span class="token punctuation">.</span>Session
        err          <span class="token builtin">error</span>
    <span class="token punctuation">)</span>
    <span class="token comment">// get auth method , &#x7528;&#x79D8;&#x94A5;&#x6216;&#x8005;&#x5BC6;&#x7801;&#x8FDE;&#x63A5;</span>
    auth <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span>ssh<span class="token punctuation">.</span>AuthMethod<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> key <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">{</span>
        auth <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>auth<span class="token punctuation">,</span> ssh<span class="token punctuation">.</span><span class="token function">Password</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        pemBytes<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadFile</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err
        <span class="token punctuation">}</span>

        <span class="token keyword">var</span> signer ssh<span class="token punctuation">.</span>Signer
        <span class="token keyword">if</span> password <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">{</span>
            signer<span class="token punctuation">,</span> err <span class="token operator">=</span> ssh<span class="token punctuation">.</span><span class="token function">ParsePrivateKey</span><span class="token punctuation">(</span>pemBytes<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            signer<span class="token punctuation">,</span> err <span class="token operator">=</span> ssh<span class="token punctuation">.</span><span class="token function">ParsePrivateKeyWithPassphrase</span><span class="token punctuation">(</span>pemBytes<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span><span class="token boolean">nil</span><span class="token punctuation">,</span> err
        <span class="token punctuation">}</span>
        auth <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>auth<span class="token punctuation">,</span> ssh<span class="token punctuation">.</span><span class="token function">PublicKeys</span><span class="token punctuation">(</span>signer<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>cipherList<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        config <span class="token operator">=</span> ssh<span class="token punctuation">.</span>Config<span class="token punctuation">{</span>
            Ciphers<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;aes128-ctr&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;aes192-ctr&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;aes256-ctr&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;aes128-gcm@openssh.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;arcfour256&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;arcfour128&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;aes128-cbc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3des-cbc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;aes192-cbc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;aes256-cbc&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        config <span class="token operator">=</span> ssh<span class="token punctuation">.</span>Config<span class="token punctuation">{</span>
            Ciphers<span class="token punctuation">:</span> cipherList<span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    clientConfig <span class="token operator">=</span> <span class="token operator">&amp;</span>ssh<span class="token punctuation">.</span>ClientConfig<span class="token punctuation">{</span>
        User<span class="token punctuation">:</span>    user<span class="token punctuation">,</span>
        Auth<span class="token punctuation">:</span>    auth<span class="token punctuation">,</span>
        Timeout<span class="token punctuation">:</span> <span class="token number">30</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">,</span>
        Config<span class="token punctuation">:</span>  config<span class="token punctuation">,</span>
        HostKeyCallback<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>hostname <span class="token builtin">string</span><span class="token punctuation">,</span> remote net<span class="token punctuation">.</span>Addr<span class="token punctuation">,</span> key ssh<span class="token punctuation">.</span>PublicKey<span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">nil</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ssh &#x8FDE;&#x63A5;</span>
    addr <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%s:%d&quot;</span><span class="token punctuation">,</span> host<span class="token punctuation">,</span> port<span class="token punctuation">)</span>

    <span class="token keyword">if</span> client<span class="token punctuation">,</span> err <span class="token operator">=</span> ssh<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">&quot;tcp&quot;</span><span class="token punctuation">,</span> addr<span class="token punctuation">,</span> clientConfig<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span><span class="token boolean">nil</span><span class="token punctuation">,</span> err
    <span class="token punctuation">}</span>

    <span class="token comment">// create session</span>
    <span class="token keyword">if</span> session<span class="token punctuation">,</span> err <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">NewSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>

        <span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> client <span class="token punctuation">,</span> err
    <span class="token punctuation">}</span>

    modes <span class="token operator">:=</span> ssh<span class="token punctuation">.</span>TerminalModes<span class="token punctuation">{</span>
        ssh<span class="token punctuation">.</span>ECHO<span class="token punctuation">:</span>          <span class="token number">0</span><span class="token punctuation">,</span>     <span class="token comment">// disable echoing</span>
        ssh<span class="token punctuation">.</span>TTY_OP_ISPEED<span class="token punctuation">:</span> <span class="token number">14400</span><span class="token punctuation">,</span> <span class="token comment">// input speed = 14.4kbaud</span>
        ssh<span class="token punctuation">.</span>TTY_OP_OSPEED<span class="token punctuation">:</span> <span class="token number">14400</span><span class="token punctuation">,</span> <span class="token comment">// output speed = 14.4kbaud</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> err <span class="token operator">:=</span> session<span class="token punctuation">.</span><span class="token function">RequestPty</span><span class="token punctuation">(</span><span class="token string">&quot;xterm&quot;</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> modes<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span><span class="token boolean">nil</span><span class="token punctuation">,</span> err
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> session<span class="token punctuation">,</span> client <span class="token punctuation">,</span><span class="token boolean">nil</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token punctuation">(</span>
    username <span class="token operator">=</span> <span class="token string">&quot;root&quot;</span>
    password <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
    key      <span class="token operator">=</span> <span class="token string">&quot;/root/.ssh/id_rsa&quot;</span>
    port     <span class="token operator">=</span> <span class="token number">22</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">sshDoShell</span><span class="token punctuation">(</span>ip <span class="token builtin">string</span><span class="token punctuation">,</span> cmd <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span><span class="token punctuation">{</span>
    ciphers <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    session<span class="token punctuation">,</span> client<span class="token punctuation">,</span> err <span class="token operator">:=</span> <span class="token function">connect</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">,</span> ip<span class="token punctuation">,</span> key<span class="token punctuation">,</span> port<span class="token punctuation">,</span> ciphers<span class="token punctuation">)</span>

    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;&#x8FDE;&#x63A5; &quot;</span><span class="token punctuation">,</span> ip<span class="token punctuation">,</span> <span class="token string">&quot; &#x5F02;&#x5E38;&quot;</span><span class="token punctuation">)</span>
        log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> err <span class="token operator">:=</span> session<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            <span class="token comment">// log etc</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> err <span class="token operator">:=</span> client<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            <span class="token comment">// log etc</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    session<span class="token punctuation">.</span>Stdout <span class="token operator">=</span> os<span class="token punctuation">.</span>Stdout
    session<span class="token punctuation">.</span>Stderr <span class="token operator">=</span> os<span class="token punctuation">.</span>Stderr

    err <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span>cmd<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="&#x6267;&#x884C;shell&#x547D;&#x4EE4;"><a name="&#x6267;&#x884C;shell&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#&#x6267;&#x884C;shell&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6267;&#x884C;shell&#x547D;&#x4EE4;" class="plugin-anchor" href="#&#x6267;&#x884C;shell&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6267;&#x884C;shell&#x547D;&#x4EE4;</h2>
<pre class="language-"><code class="lang-go"><span class="token keyword">func</span> <span class="token function">myCmd</span><span class="token punctuation">(</span>bash <span class="token builtin">string</span><span class="token punctuation">,</span> shell <span class="token operator">...</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
    contentArray <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
    cmd <span class="token operator">:=</span> exec<span class="token punctuation">.</span><span class="token function">Command</span><span class="token punctuation">(</span>bash<span class="token punctuation">,</span> shell<span class="token operator">...</span><span class="token punctuation">)</span>

    stdout<span class="token punctuation">,</span> err <span class="token operator">:=</span> cmd<span class="token punctuation">.</span><span class="token function">StdoutPipe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>cmd<span class="token punctuation">.</span>Stderr<span class="token punctuation">,</span> <span class="token string">&quot;error=&gt;&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token boolean">_</span> <span class="token operator">=</span> cmd<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    reader <span class="token operator">:=</span> bufio<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span>stdout<span class="token punctuation">)</span>

    contentArray <span class="token operator">=</span> contentArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token keyword">var</span> index <span class="token builtin">int</span>
    <span class="token comment">//&#x5B9E;&#x65F6;&#x5FAA;&#x73AF;&#x8BFB;&#x53D6;&#x8F93;&#x51FA;&#x6D41;&#x4E2D;&#x7684;&#x4E00;&#x884C;&#x5185;&#x5BB9;</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        line<span class="token punctuation">,</span> err2 <span class="token operator">:=</span> reader<span class="token punctuation">.</span><span class="token function">ReadString</span><span class="token punctuation">(</span><span class="token string">&apos;\n&apos;</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> err2 <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token operator">||</span> io<span class="token punctuation">.</span>EOF <span class="token operator">==</span> err2 <span class="token punctuation">{</span>
            <span class="token keyword">break</span>
        <span class="token punctuation">}</span>
        fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span>
        index<span class="token operator">++</span>
        contentArray <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>contentArray<span class="token punctuation">,</span> line<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    err <span class="token operator">=</span> cmd<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Execute Shell %s: &quot;</span><span class="token punctuation">,</span> shell<span class="token punctuation">)</span>
        <span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;failed with error:&quot;</span><span class="token operator">+</span>err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="&#x57FA;&#x4E8E;http&#x534F;&#x8BAE;&#x7684;api&#x63A5;&#x53E3;&#x5B9E;&#x73B0;"><a name="&#x57FA;&#x4E8E;http&#x534F;&#x8BAE;&#x7684;api&#x63A5;&#x53E3;&#x5B9E;&#x73B0;" class="anchor-navigation-ex-anchor" href="#&#x57FA;&#x4E8E;http&#x534F;&#x8BAE;&#x7684;api&#x63A5;&#x53E3;&#x5B9E;&#x73B0;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x57FA;&#x4E8E;http&#x534F;&#x8BAE;&#x7684;api&#x63A5;&#x53E3;&#x5B9E;&#x73B0;" class="plugin-anchor" href="#&#x57FA;&#x4E8E;http&#x534F;&#x8BAE;&#x7684;api&#x63A5;&#x53E3;&#x5B9E;&#x73B0;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x57FA;&#x4E8E;http&#x534F;&#x8BAE;&#x7684;API&#x63A5;&#x53E3;&#x5B9E;&#x73B0;</h2>
<pre class="language-"><code class="lang-go"><span class="token keyword">var</span> ListenSig  <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span> 

<span class="token keyword">type</span> Route <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    Name        <span class="token builtin">string</span>
    Method      <span class="token builtin">string</span>
    Pattern     <span class="token builtin">string</span>
    HandlerFunc http<span class="token punctuation">.</span>HandlerFunc
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Routes <span class="token punctuation">[</span><span class="token punctuation">]</span>Route

<span class="token comment">// &#x8BB0;&#x5F55;&#x8BBF;&#x95EE;&#x8BB0;&#x5F55;</span>
<span class="token keyword">func</span> <span class="token function">Logger</span><span class="token punctuation">(</span>inner http<span class="token punctuation">.</span>Handler<span class="token punctuation">,</span> name <span class="token builtin">string</span><span class="token punctuation">)</span> http<span class="token punctuation">.</span>Handler <span class="token punctuation">{</span>
    <span class="token keyword">return</span> http<span class="token punctuation">.</span><span class="token function">HandlerFunc</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        start <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        inner<span class="token punctuation">.</span><span class="token function">ServeHTTP</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> r<span class="token punctuation">)</span>

        File<span class="token punctuation">.</span><span class="token function">WriteAccessLog</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Method<span class="token operator">+</span><span class="token string">&quot;\t&quot;</span><span class="token operator">+</span>r<span class="token punctuation">.</span>RequestURI<span class="token operator">+</span><span class="token string">&quot;\t&quot;</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">&quot;\t&quot;</span><span class="token operator">+</span>time<span class="token punctuation">.</span><span class="token function">Since</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// &#x4E66;&#x5199;&#x8DEF;&#x7531;&#x4FE1;&#x606F;</span>
<span class="token keyword">func</span> <span class="token function">NewRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>mux<span class="token punctuation">.</span>Router <span class="token punctuation">{</span>
    router <span class="token operator">:=</span> mux<span class="token punctuation">.</span><span class="token function">NewRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">StrictSlash</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> route <span class="token operator">:=</span> <span class="token keyword">range</span> routes <span class="token punctuation">{</span>
        <span class="token keyword">var</span> handler http<span class="token punctuation">.</span>Handler
        handler <span class="token operator">=</span> route<span class="token punctuation">.</span>HandlerFunc
        handler <span class="token operator">=</span> <span class="token function">Logger</span><span class="token punctuation">(</span>handler<span class="token punctuation">,</span> route<span class="token punctuation">.</span>Name<span class="token punctuation">)</span>
        router<span class="token punctuation">.</span>
            <span class="token function">Methods</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>Method<span class="token punctuation">)</span><span class="token punctuation">.</span>
            <span class="token function">Path</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>Pattern<span class="token punctuation">)</span><span class="token punctuation">.</span>
            <span class="token function">Name</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">.</span>
            <span class="token function">Handler</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> router
<span class="token punctuation">}</span>

<span class="token keyword">var</span> routes <span class="token operator">=</span> Routes<span class="token punctuation">{</span>
    <span class="token comment">// &#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x65E5;&#x671F;&#x7684;&#x76D1;&#x63A7;&#x4FE1;&#x606F;</span>
    Route<span class="token punctuation">{</span>
        <span class="token string">&quot;GetInfo&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;/monitor/info&quot;</span><span class="token punctuation">,</span>
        ReturnMonitorInfo<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// &#x6536;&#x96C6;&#x76D1;&#x63A7;&#x6570;&#x636E;&#x5E76;&#x4FDD;&#x5B58;&#x5904;&#x7406;</span>
    Route<span class="token punctuation">{</span>
        <span class="token string">&quot;MonitorCollect&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;/monitor/collect&quot;</span><span class="token punctuation">,</span>
        PostMonitorInfo<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// &#x5177;&#x4F53;&#x63A5;&#x53E3;&#x89E6;&#x53D1;&#x51FD;&#x6570;</span>
<span class="token keyword">func</span> <span class="token function">PostMonitorInfo</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">ReturnMonitorInfo</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment">// &#x542F;&#x52A8;api&#x63A5;&#x53E3;&#xFF0C;port&#x53C2;&#x6570;&#x4E3A;&#x66B4;&#x9732;&#x7AEF;&#x53E3;</span>
<span class="token keyword">func</span> <span class="token function">StartApi</span><span class="token punctuation">(</span>port <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    router <span class="token operator">:=</span> <span class="token function">NewRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    File<span class="token punctuation">.</span><span class="token function">WriteErrorLog</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span><span class="token function">ListenAndServe</span><span class="token punctuation">(</span><span class="token string">&quot;:&quot;</span><span class="token operator">+</span>port<span class="token punctuation">,</span> router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    ListenSig <span class="token operator">&lt;-</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre>
<h1 id="go-test"><a name="go-test" class="anchor-navigation-ex-anchor" href="#go-test"><i class="fa fa-link" aria-hidden="true"></i></a><a name="go-test" class="plugin-anchor" href="#go-test"><i class="fa fa-link" aria-hidden="true"></i></a>go test</h1>
<h2 id="&#x5355;&#x5143;&#x6D4B;&#x8BD5;"><a name="&#x5355;&#x5143;&#x6D4B;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#&#x5355;&#x5143;&#x6D4B;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5355;&#x5143;&#x6D4B;&#x8BD5;" class="plugin-anchor" href="#&#x5355;&#x5143;&#x6D4B;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5355;&#x5143;&#x6D4B;&#x8BD5;</h2>
<p><code>go test -v ./...</code> &#x8BFB;&#x53D6;&#x76EE;&#x5F55;&#x4E0B;&#x6240;&#x6709;<code>*_test.go</code>&#x6587;&#x4EF6;&#xFF0C;&#x8FD0;&#x884C;&#x91CC;&#x9762;&#x7684;test&#x4EFB;&#x52A1;</p>
<p>&#x6BCF;&#x4E2A;&#x5305;&#xFF0C;&#x90FD;&#x662F;&#x4ECE;<code>*Test.M</code>&#x51FA;&#x53D1;</p>
<pre class="language-"><code class="lang-go"><span class="token keyword">package</span> api

<span class="token keyword">func</span> <span class="token function">TestMain</span><span class="token punctuation">(</span>m <span class="token operator">*</span>testing<span class="token punctuation">.</span>M<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Start test Api&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">// &#x5F00;&#x59CB;&#x6D4B;&#x8BD5;</span>
    m<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// &#x6D4B;&#x8BD5;&#x7ED3;&#x675F;</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Finish test Api &quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">TestPostProjects</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    convey<span class="token punctuation">.</span><span class="token function">Convey</span><span class="token punctuation">(</span><span class="token string">&quot;&#x6D4B;&#x8BD5;&quot;</span><span class="token punctuation">,</span> t<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// start api and test</span>
        convey<span class="token punctuation">.</span><span class="token function">So</span><span class="token punctuation">(</span>get_body<span class="token punctuation">,</span> convey<span class="token punctuation">.</span>ShouldEqual<span class="token punctuation">,</span> right_body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="mock&#x65B9;&#x6CD5;"><a name="mock&#x65B9;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#mock&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="mock&#x65B9;&#x6CD5;" class="plugin-anchor" href="#mock&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>Mock&#x65B9;&#x6CD5;</h2>
<ul>
<li><code>sqlMock</code></li>
<li><code>goMock</code></li>
<li><code>gomonkey</code><ul>
<li><code>gomonkey.ApplyFunc</code>&#xFF1A; mock&#x67D0;&#x4E2A;&#x65B9;&#x6CD5;</li>
<li><code>gomonkey.ApplyMethod</code>&#xFF1A; mock&#x67D0;&#x4E2A;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;</li>
<li><code>xxx.Reset()</code>&#xFF1A; &#x91CD;&#x7F6E;&#x5404;&#x4E2A;&#x65B9;&#x6CD5;</li>
</ul>
</li>
</ul>
<pre class="language-"><code class="lang-go"><span class="token keyword">package</span> api

<span class="token comment">// &#x5B9A;&#x4E49;&#x5404;&#x4E2A;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#x7C7B;&#x578B;</span>
<span class="token keyword">var</span> <span class="token punctuation">(</span>
    <span class="token comment">// &#x4F5C;&#x4E3A;&#x6D4B;&#x8BD5;&#x4E2D;&#x4F20;&#x5165;&#x7684;config&#x503C;&#xFF0C;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x4F1A;&#x88AB;mock&#x6389;</span>
    Api_test_cfg config<span class="token punctuation">.</span>OctopusServerConfig

    <span class="token comment">// &#x4F5C;&#x4E3A;&#x6D4B;&#x8BD5;&#x4E2D;&#x4F7F;&#x7528;&#x7684;project&#x8868;&#x4FE1;&#x606F;</span>
    Api_test_projects <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">*</span>mysql<span class="token punctuation">.</span>Project
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">TestMain</span><span class="token punctuation">(</span>m <span class="token operator">*</span>testing<span class="token punctuation">.</span>M<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#x542F;&#x52A8;api&#x51C6;&#x5907;&#x6D4B;&#x8BD5;</span>
    patches <span class="token operator">:=</span> <span class="token function">mockMysql</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Start test Api&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">// &#x5F00;&#x59CB;&#x6D4B;&#x8BD5;</span>
    m<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// &#x6D4B;&#x8BD5;&#x7ED3;&#x675F;</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> p <span class="token operator">:=</span> <span class="token keyword">range</span> patches <span class="token punctuation">{</span>
        p<span class="token punctuation">.</span><span class="token function">Reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Finish test Api &quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// mock mysqlservice&#x7684;&#x76F8;&#x5173;&#x64CD;&#x4F5C;</span>
<span class="token keyword">func</span> <span class="token function">mockMysql</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">*</span>gomonkey<span class="token punctuation">.</span>Patches <span class="token punctuation">{</span>
    <span class="token keyword">var</span> <span class="token punctuation">(</span>
        <span class="token comment">// &#x4F5C;&#x4E3A;&#x6570;&#x636E;&#x5E93;mock&#x4F7F;&#x7528;&#x7684;&#x5BF9;&#x8C61;</span>
        test_sql <span class="token operator">*</span>mysql<span class="token punctuation">.</span>Mysql
        patches  <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">*</span>gomonkey<span class="token punctuation">.</span>Patches<span class="token punctuation">)</span>
    <span class="token punctuation">)</span>

    <span class="token comment">// mock mysql func</span>
    patches<span class="token punctuation">[</span><span class="token string">&quot;GetMysqlInstance&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> gomonkey<span class="token punctuation">.</span><span class="token function">ApplyFunc</span><span class="token punctuation">(</span>mysql<span class="token punctuation">.</span>GetMysqlInstance<span class="token punctuation">,</span>
        <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token boolean">_</span> <span class="token operator">*</span>config<span class="token punctuation">.</span>DataSourceDetail<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token operator">*</span>mysql<span class="token punctuation">.</span>Mysql<span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> dbConn <span class="token operator">*</span>gorm<span class="token punctuation">.</span>DB
            mysqlInstance <span class="token operator">:=</span> <span class="token operator">&amp;</span>mysql<span class="token punctuation">.</span>Mysql<span class="token punctuation">{</span>DbConn<span class="token punctuation">:</span> dbConn<span class="token punctuation">}</span>
            <span class="token keyword">return</span> mysqlInstance<span class="token punctuation">,</span> <span class="token boolean">nil</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// mock mysql method</span>
    patches<span class="token punctuation">[</span><span class="token string">&quot;GetProjects&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> gomonkey<span class="token punctuation">.</span><span class="token function">ApplyMethod</span><span class="token punctuation">(</span>reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>test_sql<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;GetProjects&quot;</span><span class="token punctuation">,</span>
        <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token boolean">_</span> <span class="token operator">*</span>mysql<span class="token punctuation">.</span>Mysql<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Api_test_projects<span class="token punctuation">,</span> <span class="token boolean">nil</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> patches
<span class="token punctuation">}</span>
</code></pre>
<h2 id="httptest"><a name="httptest" class="anchor-navigation-ex-anchor" href="#httptest"><i class="fa fa-link" aria-hidden="true"></i></a><a name="httptest" class="plugin-anchor" href="#httptest"><i class="fa fa-link" aria-hidden="true"></i></a>httptest</h2>
<p>&#x6D4B;&#x8BD5;api&#x63A5;&#x53E3;&#x7684;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;</p>
<pre class="language-"><code class="lang-go"><span class="token keyword">package</span> api


<span class="token comment">// &#x5B9A;&#x4E49;&#x5404;&#x4E2A;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#x7C7B;&#x578B;</span>
<span class="token keyword">var</span> <span class="token punctuation">(</span>
    <span class="token comment">// &#x4F5C;&#x4E3A;&#x6D4B;&#x8BD5;&#x4E2D;&#x4F20;&#x5165;&#x7684;config&#x503C;&#xFF0C;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x4F1A;&#x88AB;mock&#x6389;</span>
    Api_test_cfg config<span class="token punctuation">.</span>OctopusServerConfig

    <span class="token comment">// api&#x63A5;&#x53E3;&#x7684;&#x4F7F;&#x7528;&#x5BF9;&#x8C61;</span>
    Apptest <span class="token operator">*</span>iris<span class="token punctuation">.</span>Application
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">TestMain</span><span class="token punctuation">(</span>m <span class="token operator">*</span>testing<span class="token punctuation">.</span>M<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#x542F;&#x52A8;api&#x51C6;&#x5907;&#x6D4B;&#x8BD5;</span>
    Apptest <span class="token operator">=</span> <span class="token function">CreateApi</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Api_test_cfg<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Start test Api&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">// &#x5F00;&#x59CB;&#x6D4B;&#x8BD5;</span>
    m<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// &#x6D4B;&#x8BD5;&#x7ED3;&#x675F;</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Finish test Api &quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">TestPostProjects</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    convey<span class="token punctuation">.</span><span class="token function">Convey</span><span class="token punctuation">(</span><span class="token string">&quot;&#x6D4B;&#x8BD5; post /projects&quot;</span><span class="token punctuation">,</span> t<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// start api and test</span>
        e <span class="token operator">:=</span> httptest<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> Apptest<span class="token punctuation">)</span>
        getAccess <span class="token operator">:=</span> e<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/projects&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithHeader</span><span class="token punctuation">(</span><span class="token string">&quot;traceid&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xxxx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithJSON</span><span class="token punctuation">(</span><span class="token string">&quot;body&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
            <span class="token function">WithBasicAuth</span><span class="token punctuation">(</span>Auth<span class="token punctuation">.</span>Username<span class="token punctuation">,</span> Auth<span class="token punctuation">.</span>Password<span class="token punctuation">)</span><span class="token punctuation">.</span>
            <span class="token function">Expect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Status</span><span class="token punctuation">(</span>httptest<span class="token punctuation">.</span>StatusOK<span class="token punctuation">)</span>

        getAccess<span class="token punctuation">.</span><span class="token function">Body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Equal</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="faker"><a name="faker" class="anchor-navigation-ex-anchor" href="#faker"><i class="fa fa-link" aria-hidden="true"></i></a><a name="faker" class="plugin-anchor" href="#faker"><i class="fa fa-link" aria-hidden="true"></i></a>Faker</h2>
<p>&#x968F;&#x673A;&#x751F;&#x6210;&#x76F8;&#x5173;&#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>print dir(fake)</code>&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x76F8;&#x5173;&#x5217;&#x8868;</p>
<pre class="language-"><code>address : 962 Brown Mountain
East Mary, CT 04738
am_pm : PM
ascii_company_email : dawnhines@cantrell.com
ascii_email : richardsanna@yahoo.com
ascii_free_email : ejohnson@yahoo.com
ascii_safe_email : steven92@example.org
bank_country : GB
bban : XRKR3466353844591
boolean : False
bothify : 16 zD
bs : harness cross-media web-readiness
building_number : 2202
catch_phrase : Quality-focused solution-oriented hierarchy
century : XII
chrome : Mozilla/5.0 (Macintosh; Intel Mac OS X 10_5_0) AppleWebKit/5352 (KHTML, like Gecko) Chrome/40.0.802.0 Safari/5352
city : New Lisa
city_prefix : Lake
city_suffix : town
color_name : Purple
company : Gray and Sons
company_email : martinallen@johnson.net
company_suffix : and Sons
coordinate : -87.141470
country : Northern Mariana Islands
country_code : SO
credit_card_expire : 12/27
credit_card_full : VISA 19 digit
Adam Murphy
4436102807805944284 02/22
CVC: 607

credit_card_number : 3508735520995723
credit_card_provider : American Express
credit_card_security_code : 129
cryptocurrency : (&apos;BC&apos;, &apos;BlackCoin&apos;)
cryptocurrency_code : DRC
cryptocurrency_name : EOS.IO
currency : (&apos;RWF&apos;, &apos;Rwandan franc&apos;)
currency_code : CHF
currency_name : S&#xE3;o Tom&#xE9; and Pr&#xED;ncipe dobra
date : 2017-03-08
date_between : 2004-09-09
date_between_dates : 2019-01-02
date_object : 2016-06-06
date_of_birth : 1989-05-07
date_this_century : 2016-07-27
date_this_decade : 2015-06-18
date_this_month : 2019-01-01
date_this_year : 2019-01-01
date_time : 1998-05-01 17:23:46
date_time_ad : 0381-09-12 09:49:54
date_time_between : 2004-01-05 11:45:01
date_time_between_dates : 2019-01-02 20:42:43
date_time_this_century : 2008-12-05 18:31:25
date_time_this_decade : 2012-08-18 21:45:49
date_time_this_month : 2019-01-01 22:56:29
date_time_this_year : 2019-01-02 02:34:05
day_of_month : 09
day_of_week : Tuesday
domain_name : mendoza.biz
domain_word : zavala
ean : 4633017886662
ean13 : 1212638242694
ean8 : 00511063
ein : 27-4912026
email : ruizpeter@hotmail.com
file_extension : wav
file_name : close.jpg
file_path : /authority/section.mp4
firefox : Mozilla/5.0 (Windows NT 5.2; mn-MN; rv:1.9.1.20) Gecko/2016-07-12 09:28:12 Firefox/3.6.4
first_name : Brian
first_name_female : Emily
first_name_male : Robert
free_email : toddedward@gmail.com
free_email_domain : yahoo.com
future_date : 2019-01-12
future_datetime : 2019-01-27 11:39:59
get_providers : [<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.user_agent.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20EF0</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.ssn.en_US.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20E80</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.python.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20E48</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.profile.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20E10</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.phone_number.en_US.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20DD8</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.person.en_US.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20D30</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.misc.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20B00</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.lorem.en_US.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20AC8</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.job.en_US.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20A90</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.isbn.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20A58</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.internet.en_US.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20A20</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.geo.en_US.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F209B0</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.file.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20978</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.date_time.en_US.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20940</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.currency.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F208D0</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.credit_card.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20898</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.company.en_US.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20860</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.color.en_US.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20828</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.barcode.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F207B8</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.bank.en_GB.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20780</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.automotive.en_US.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F20518</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.providers.address.en_US.Provider</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x0000000012F204A8</span><span class="token punctuation">&gt;</span></span>]
hex_color : #63efde
hexify : 333f
hostname : srv-88.campbell.com
iban : GB33UOJP7722297851032
image_url : https://placeimg.com/47/982/any
internet_explorer : Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.1)
ipv4 : 192.53.46.149
ipv4_network_class : a
ipv4_private : 10.11.77.107
ipv4_public : 98.36.178.232
ipv6 : 9171:502a:4187:a38b:cab:2ae5:a008:3537
isbn10 : 1-84636-208-3
isbn13 : 978-1-80668-720-6
iso8601 : 1981-11-27T00:10:05
itin : 980-73-6362
job : Environmental health practitioner
language_code : ha
last_name : Harrison
last_name_female : Dean
last_name_male : Washington
latitude : -71.7117395
latlng : (Decimal(&apos;-87.243354&apos;), Decimal(&apos;68.383566&apos;))
lexify : ynqd
license_plate : 04XI233
linux_platform_token : X11; Linux x86_64
linux_processor : i686
local_latlng : (&apos;30.5427&apos;, &apos;-97.54667&apos;, &apos;Hutto&apos;, &apos;US&apos;, &apos;America/Chicago&apos;)
locale : tk_TM
location_on_land : (&apos;18.51957&apos;, &apos;73.85535&apos;, &apos;Pune&apos;, &apos;IN&apos;, &apos;Asia/Kolkata&apos;)
longitude : -149.969067
mac_address : f7:42:08:e8:c9:a5
mac_platform_token : Macintosh; PPC Mac OS X 10_6_3
mac_processor : U; Intel
md5 : 7e7cb2e1d96aa3ea8af015bd7d21ae3c
military_apo : PSC 3000, Box 1879
military_dpo : Unit 8330 Box 5496
military_ship : USNV
military_state : AA
mime_type : multipart/signed
month : 07
month_name : August
msisdn : 3162686718629
name : Melissa Gonzalez
name_female : Annette Norton
name_male : Justin Martinez
null_boolean : True
numerify : 110
opera : Opera/8.67.(X11; Linux i686; mai-IN) Presto/2.9.166 Version/10.00
paragraph : Less huge partner herself. Major career personal sort western impact.
paragraphs : [u&apos;Tonight else fear doctor. Radio past event garden.&apos;, u&apos;Series technology section capital hundred go choice.&apos;, u&apos;Large month resource concern Mr form machine. Simple site however watch.&apos;]
password : _NJnqyB+o8
past_date : 2018-12-03
past_datetime : 2018-12-29 23:03:20
phone_number : 001-810-068-3558x30683
postalcode : 63294
postalcode_plus4 : 24817-9240
postcode : 36965
prefix : Miss
prefix_female : Miss
prefix_male : Mr.
profile : {&apos;website&apos;: [u&apos;http://knox.com/&apos;, u&apos;https://hall-james.com/&apos;, u&apos;https://gibbs.com/&apos;, u&apos;http://gonzalez-pacheco.biz/&apos;], &apos;username&apos;: u&apos;hensonana&apos;, &apos;name&apos;: u&apos;Timothy Strickland&apos;, &apos;blood_group&apos;: &apos;A+&apos;, &apos;residence&apos;: u&apos;50459 April Dale\nNorth Jasmine, IL 92057&apos;, &apos;company&apos;: u&apos;Hays, Mcdonald and Costa&apos;, &apos;address&apos;: u&apos;9407 Donna Summit\nAnnetteville, WY 18513&apos;, &apos;birthdate&apos;: datetime.date(1980, 12, 19), &apos;sex&apos;: &apos;M&apos;, &apos;job&apos;: &apos;Engineer, site&apos;, &apos;ssn&apos;: u&apos;170-61-7134&apos;, &apos;current_location&apos;: (Decimal(&apos;-42.5555445&apos;), Decimal(&apos;42.848347&apos;)), &apos;mail&apos;: u&apos;janetwalsh@gmail.com&apos;}
pybool : False
pydecimal : -88679.375
pydict : {u&apos;try&apos;: u&apos;arthurday@hotmail.com&apos;, u&apos;attorney&apos;: u&apos;https://davis-shepherd.org/&apos;, u&apos;beyond&apos;: u&apos;AHMeTAiybSObDygFLCdP&apos;, u&apos;make&apos;: Decimal(&apos;8.9&apos;), u&apos;sign&apos;: u&apos;ugHKkPrnstWEoDyEWvmx&apos;, u&apos;should&apos;: 9959, u&apos;project&apos;: Decimal(&apos;-924424356.274&apos;), u&apos;born&apos;: u&apos;kenHkltRzSJhjBZmvRaT&apos;, u&apos;oil&apos;: u&apos;xCFyZuRlAKZrvYkpSqxg&apos;, u&apos;each&apos;: Decimal(&apos;61.99&apos;), u&apos;arrive&apos;: u&apos;dHyljteKscrRHmswyaZU&apos;, u&apos;minute&apos;: u&apos;uZRBiOfKafHJcaaKXZXM&apos;}
pyfloat : -7651023230.8
pyint : 3534
pyiterable : [u&apos;VHLKqNIghXURLCTtpzRn&apos;, Decimal(&apos;6012.9444191&apos;), -35834818801.4104, 6171, Decimal(&apos;-12265352.2901&apos;), 3595, u&apos;https://www.salinas.biz/category.php&apos;, u&apos;tmullen@harris.biz&apos;, datetime.datetime(2014, 6, 24, 0, 55, 42), -93.696436254134, u&apos;NHntgKLcrlNkmEzlgNAR&apos;]
pylist : [u&apos;jose07@yahoo.com&apos;, u&apos;BgAbucmgaDtzDNkWHZxA&apos;, u&apos;BGHXEbOTzWesohqDvSvd&apos;, datetime.datetime(1996, 7, 15, 11, 51, 9), u&apos;rWVgMmfqZPaHMvIKXqbR&apos;, u&apos;zachary98@yahoo.com&apos;, u&apos;aPYhQZYdfMWLbegYpTrX&apos;, u&apos;LBlIvbwnXKmfLscVFmyu&apos;, u&apos;http://www.brown.com/homepage/&apos;, 2009, u&apos;terri30@stafford-barnett.biz&apos;]
pyset : set([u&apos;vtURKBQQRApIoUZROrll&apos;, 1105, u&apos;jalvarado@gmail.com&apos;, u&apos;QmqPChxAQibTqClxJhuD&apos;, datetime.datetime(2002, 8, 15, 23, 1, 56), Decimal(&apos;6.968001051&apos;), 3837655878192.6, u&apos;benjaminholloway@clark.com&apos;, -6306.918624, 3190, Decimal(&apos;-25374593628.5&apos;), u&apos;lgnXmYBtXNzCKpVvCYrb&apos;, Decimal(&apos;-33897542.763&apos;)])
pystr : LqxqCNVABxSlGFNkvrlx
pystruct : ([u&apos;jjkLtZqEljABLAkzTfUt&apos;, datetime.datetime(2008, 10, 8, 1, 50, 36), u&apos;ZjEpHkuuMBAZkaBhQyrU&apos;, u&apos;OilUAUmcThgkcxMbqSAh&apos;, datetime.datetime(1975, 7, 5, 0, 36, 55), u&apos;fOJrQchzyPhFxqMdGMnE&apos;, 9250, 8949, u&apos;sleWkpsNBMihVkGpRoot&apos;, Decimal(&apos;807164941.401&apos;)], {u&apos;begin&apos;: u&apos;BjbPTjfUvVfKcGiJMNQD&apos;, u&apos;necessary&apos;: u&apos;FzOHQMomtEMTgadZmixE&apos;, u&apos;show&apos;: Decimal(&apos;53203338.7976&apos;), u&apos;country&apos;: u&apos;swfMuAlLcqRLksRZwlyU&apos;, u&apos;understand&apos;: u&apos;lisalewis@mckay.org&apos;, u&apos;rock&apos;: 9670.5514, u&apos;close&apos;: 5565, u&apos;east&apos;: 102813994221205.0, u&apos;my&apos;: u&apos;yPyrXsPeXixbldFbWhFU&apos;, u&apos;those&apos;: u&apos;efry@hotmail.com&apos;}, {u&apos;product&apos;: {4: u&apos;patrickparker@hotmail.com&apos;, 5: [u&apos;qCHqzUfasGcUMKjUhkLc&apos;, u&apos;FxwucZAfcnYxrhqOOtXR&apos;, -395.803], 6: {4: u&apos;aLqAwymVaNpmhyHhQOLH&apos;, 5: u&apos;ErfioxhgoWNVCdnaVanq&apos;, 6: [u&apos;RlnaSIsbWnKfaPViBLNj&apos;, u&apos;jbTTgCCjCEtuzGodHAdV&apos;]}}, u&apos;could&apos;: {0: u&apos;RgwNMAMzXKlHhazdfhCX&apos;, 1: [u&apos;EAUsPCgHgoQDJcblUCja&apos;, datetime.datetime(2012, 1, 19, 13, 35, 8), u&apos;http://walters.org/explore/wp-content/app/author.htm&apos;], 2: {0: u&apos;lwPTuQsvNnCUPBBTffno&apos;, 1: u&apos;eXQMtXfRtlBJfpVFAUjg&apos;, 2: [u&apos;ECOKoifYhSzLoifZdWnl&apos;, u&apos;https://johnson.net/category.html&apos;]}}, u&apos;term&apos;: {8: datetime.datetime(2010, 1, 9, 12, 24, 49), 9: [datetime.datetime(2005, 11, 13, 14, 10, 18), 6119, u&apos;rzsUSoLRotLlQSjzaskb&apos;], 10: {8: u&apos;belinda84@hotmail.com&apos;, 9: datetime.datetime(1997, 3, 10, 4, 46, 15), 10: [Decimal(&apos;663.0&apos;), Decimal(&apos;6.83132854674E+13&apos;)]}}, u&apos;environment&apos;: {1: u&apos;qbWPXDBMWzHZELWxQBuz&apos;, 2: [6074, 3400, u&apos;eHYTsFimBxNJryhThDNc&apos;], 3: {1: datetime.datetime(1984, 4, 17, 4, 38, 31), 2: u&apos;VhigpvUUAfCHutXcwfbX&apos;, 3: [u&apos;UAjJhtniSwdhayTOLWEq&apos;, u&apos;NrYZWiQYFJZMYmxiRLww&apos;]}}, u&apos;rich&apos;: {9: u&apos;UxqyzUuWWYhlsbfWtBPa&apos;, 10: [u&apos;VvsHEFsWBmxlVzeCKMIX&apos;, 4015, datetime.datetime(1987, 5, 8, 6, 28, 31)], 11: {9: datetime.datetime(1994, 12, 29, 22, 3, 29), 10: u&apos;IeVrPuRMbVQPQLpnXodo&apos;, 11: [u&apos;YKUAepdkQNykJLtiEmeH&apos;, Decimal(&apos;86832605439.3&apos;)]}}, u&apos;into&apos;: {8: [u&apos;WFkKXgCihEjoMxPMpKiB&apos;, -371.213906693373, u&apos;dbrowning@yahoo.com&apos;], 9: {8: u&apos;melissa96@hotmail.com&apos;, 9: [u&apos;adamstammy@hotmail.com&apos;, 4613], 7: Decimal(&apos;-870.723488439&apos;)}, 7: u&apos;https://anderson.com/&apos;}, u&apos;skill&apos;: {5: u&apos;ZcQKPbNrKTKerNTBcOUu&apos;, 6: [1294, Decimal(&apos;532156.674&apos;), 247], 7: {5: u&apos;ZDVnfVsiIkWhZRhwhElc&apos;, 6: 3777, 7: [u&apos;basssusan@barnett.com&apos;, u&apos;gTRgZifCkCkKVgAoSuqm&apos;]}}, u&apos;democratic&apos;: {2: u&apos;https://gonzalez-dean.com/&apos;, 3: [u&apos;millerrachel@schneider.com&apos;, u&apos;FkpbQxHdbGinsxifzjLo&apos;, u&apos;IPhyirwsceVwTKNpduNW&apos;], 4: {2: u&apos;AOOVvMWWxDyWBFYqZPZq&apos;, 3: u&apos;PHdenfFfHQzsHrqmFFNJ&apos;, 4: [datetime.datetime(2006, 12, 10, 10, 21, 14), 7330]}}, u&apos;themselves&apos;: {8: {8: [u&apos;william87@yahoo.com&apos;, u&apos;YRoBtIsJwgGXcuvpIJPj&apos;], 6: 1245, 7: u&apos;ygriffin@smith-rowe.com&apos;}, 6: u&apos;jefferyhall@yahoo.com&apos;, 7: [u&apos;qherrera@hunt.info&apos;, u&apos;andrewharvey@gmail.com&apos;, u&apos;http://brown.info/list/wp-content/author/&apos;]}, u&apos;today&apos;: {3: u&apos;btSTHtwKXrLHvLpFKOVZ&apos;, 4: [u&apos;https://www.ramirez.com/faq.php&apos;, u&apos;dpsAElcgRCbovSDyVvdd&apos;, u&apos;https://mcintosh-swanson.com/main/search/tag/terms/&apos;], 5: {3: 9055, 4: datetime.datetime(1971, 7, 28, 12, 33, 9), 5: [u&apos;danielhodges@fisher.com&apos;, u&apos;EfuYhbcQKCQcptDTlmhM&apos;]}}})
random_choices : [&apos;c&apos;]
random_digit : 6
random_digit_not_null : 8
random_digit_not_null_or_empty : 6
random_digit_or_empty : 
random_element : b
random_elements : [&apos;a&apos;]
random_int : 7153
random_letter : v
random_letters : [&apos;u&apos;, &apos;e&apos;, &apos;a&apos;, &apos;y&apos;, &apos;E&apos;, &apos;A&apos;, &apos;m&apos;, &apos;R&apos;, &apos;k&apos;, &apos;m&apos;, &apos;G&apos;, &apos;o&apos;, &apos;q&apos;, &apos;s&apos;, &apos;l&apos;, &apos;O&apos;]
random_lowercase_letter : c
random_number : 60
random_sample : [&apos;b&apos;, &apos;a&apos;, &apos;c&apos;]
random_uppercase_letter : E
randomize_nb_elements : 13
rgb_color : 207,33,21
rgb_css_color : rgb(141,14,63)
safari : Mozilla/5.0 (Windows; U; Windows NT 6.0) AppleWebKit/535.12.3 (KHTML, like Gecko) Version/5.0 Safari/535.12.3
safe_color_name : olive
safe_email : martinkayla@example.org
safe_hex_color : #bb2200
secondary_address : Suite 437
seed : None
seed_instance : <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>faker.generator.Generator</span> <span class="token attr-name">object</span> <span class="token attr-name">at</span> <span class="token attr-name">0x000000001280D7F0</span><span class="token punctuation">&gt;</span></span>
sentence : Couple race sit sing TV.
sentences : [u&apos;Surface seem serve five each magazine.&apos;, u&apos;Statement current line share force prevent company.&apos;, u&apos;Daughter listen fear miss.&apos;]
</code></pre><h1 id="&#x6570;&#x636E;&#x5B58;&#x50A8;"><a name="&#x6570;&#x636E;&#x5B58;&#x50A8;" class="anchor-navigation-ex-anchor" href="#&#x6570;&#x636E;&#x5B58;&#x50A8;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6570;&#x636E;&#x5B58;&#x50A8;" class="plugin-anchor" href="#&#x6570;&#x636E;&#x5B58;&#x50A8;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6570;&#x636E;&#x5B58;&#x50A8;</h1>
<h2 id="redis-&#x64CD;&#x4F5C;"><a name="redis-&#x64CD;&#x4F5C;" class="anchor-navigation-ex-anchor" href="#redis-&#x64CD;&#x4F5C;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="redis-&#x64CD;&#x4F5C;" class="plugin-anchor" href="#redis-&#x64CD;&#x4F5C;"><i class="fa fa-link" aria-hidden="true"></i></a>Redis &#x64CD;&#x4F5C;</h2>
<pre class="language-"><code class="lang-go"><span class="token keyword">type</span> RedisStore <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    sync<span class="token punctuation">.</span>RWMutex
    expiration    time<span class="token punctuation">.</span>Duration
    redisInstance <span class="token operator">*</span>redis<span class="token punctuation">.</span>Client
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">NewRedisStore</span><span class="token punctuation">(</span>expiration time<span class="token punctuation">.</span>Duration<span class="token punctuation">,</span> redisInstance <span class="token operator">*</span>redis<span class="token punctuation">.</span>Client<span class="token punctuation">)</span> <span class="token punctuation">(</span>r <span class="token operator">*</span>RedisStore<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    r <span class="token operator">=</span> <span class="token operator">&amp;</span>RedisStore<span class="token punctuation">{</span>
        expiration<span class="token punctuation">:</span>    expiration<span class="token punctuation">,</span>
        redisInstance<span class="token punctuation">:</span> redisInstance<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>this <span class="token operator">*</span>RedisStore<span class="token punctuation">)</span> <span class="token function">Set</span><span class="token punctuation">(</span>id <span class="token builtin">string</span><span class="token punctuation">,</span> value <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    this<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">defer</span> this<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    this<span class="token punctuation">.</span>redisInstance<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> id<span class="token punctuation">,</span> value<span class="token punctuation">,</span> this<span class="token punctuation">.</span>expiration<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>this <span class="token operator">*</span>RedisStore<span class="token punctuation">)</span> <span class="token function">Verify</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> answer <span class="token builtin">string</span><span class="token punctuation">,</span> clear <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> this<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> clear<span class="token punctuation">)</span> <span class="token operator">==</span> answer
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>this <span class="token operator">*</span>RedisStore<span class="token punctuation">)</span> <span class="token function">Get</span><span class="token punctuation">(</span>id <span class="token builtin">string</span><span class="token punctuation">,</span> clear <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>value <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    this<span class="token punctuation">.</span><span class="token function">RLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">defer</span> this<span class="token punctuation">.</span><span class="token function">RUnlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> err <span class="token builtin">error</span>
    value<span class="token punctuation">,</span> err <span class="token operator">=</span> this<span class="token punctuation">.</span>redisInstance<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Result</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        logger<span class="token punctuation">.</span>Log<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;&#x4ECE;redis&#x4E2D;&#x83B7;&#x53D6; key `%s` &#x5931;&#x8D25;, %s&quot;</span><span class="token punctuation">,</span> id<span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> clear <span class="token punctuation">{</span>
        this<span class="token punctuation">.</span>redisInstance<span class="token punctuation">.</span><span class="token function">Del</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span>
<span class="token punctuation">}</span>
</code></pre>
<h1 id="captcha-&#x9A8C;&#x8BC1;&#x7801;"><a name="captcha-&#x9A8C;&#x8BC1;&#x7801;" class="anchor-navigation-ex-anchor" href="#captcha-&#x9A8C;&#x8BC1;&#x7801;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="captcha-&#x9A8C;&#x8BC1;&#x7801;" class="plugin-anchor" href="#captcha-&#x9A8C;&#x8BC1;&#x7801;"><i class="fa fa-link" aria-hidden="true"></i></a>Captcha &#x9A8C;&#x8BC1;&#x7801;</h1>
<pre class="language-"><code class="lang-go"><span class="token keyword">package</span> api

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;github.com/kataras/iris/v12&quot;</span>
    <span class="token string">&quot;github.com/mojocn/base64Captcha&quot;</span>
    <span class="token string">&quot;image/color&quot;</span>
    <span class="token string">&quot;math/rand&quot;</span>
    <span class="token string">&quot;time&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span> <span class="token punctuation">(</span>
    fonts        <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;DENNEthree-dee.ttf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;RitaSmith.ttf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;actionj.ttf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;chromohv.ttf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;wqy-microhei.ttc&quot;</span><span class="token punctuation">}</span>
    defaultDigit <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">{</span>
        base64Captcha<span class="token punctuation">.</span><span class="token function">NewDriverDigit</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        base64Captcha<span class="token punctuation">.</span><span class="token function">NewDriverString</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> base64Captcha<span class="token punctuation">.</span>OptionShowHollowLine<span class="token punctuation">,</span>
            <span class="token number">4</span><span class="token punctuation">,</span> base64Captcha<span class="token punctuation">.</span>TxtAlphabet<span class="token punctuation">,</span> <span class="token operator">&amp;</span>color<span class="token punctuation">.</span>RGBA<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> fonts<span class="token punctuation">)</span><span class="token punctuation">,</span>
        base64Captcha<span class="token punctuation">.</span><span class="token function">NewDriverMath</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token operator">&amp;</span>color<span class="token punctuation">.</span>RGBA<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> fonts<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">GetCaptcha</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// &#x521B;&#x5EFA;redis&#x5B58;&#x50A8;</span>
    store <span class="token operator">:=</span> <span class="token function">NewRedisStore</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">*</span>time<span class="token punctuation">.</span>Minute<span class="token punctuation">,</span> redis<span class="token punctuation">.</span><span class="token function">GetRedisInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    driver <span class="token operator">:=</span> defaultDigit<span class="token punctuation">[</span>rand<span class="token punctuation">.</span><span class="token function">Intn</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>defaultDigit<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">(</span>base64Captcha<span class="token punctuation">.</span>Driver<span class="token punctuation">)</span>
    captcha <span class="token operator">:=</span> base64Captcha<span class="token punctuation">.</span><span class="token function">NewCaptcha</span><span class="token punctuation">(</span>driver<span class="token punctuation">,</span> store<span class="token punctuation">)</span>
    uuid<span class="token punctuation">,</span> b64s<span class="token punctuation">,</span> err <span class="token operator">:=</span> captcha<span class="token punctuation">.</span><span class="token function">Generate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">CaptchaErr</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> err<span class="token punctuation">,</span> response<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> uuid<span class="token punctuation">,</span> b64s
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">validateCaptcha</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>validated <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> key <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">||</span> value <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
  <span class="token comment">// &#x8BFB;&#x53D6;redis&#x5B58;&#x50A8;</span>
    store <span class="token operator">:=</span> <span class="token function">NewRedisStore</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">*</span>time<span class="token punctuation">.</span>Minute<span class="token punctuation">,</span> redis<span class="token punctuation">.</span><span class="token function">GetRedisInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    validated <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">Verify</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span>
<span class="token punctuation">}</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../" class="navigation navigation-prev " aria-label="Previous page: 介绍">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Basis.html" class="navigation navigation-next " aria-label="Next page: 基础">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Golang","level":"1.2","depth":1,"next":{"title":"基础","level":"1.2.1","depth":2,"path":"Golang/Basis.md","ref":"Golang/Basis.md","articles":[]},"previous":{"title":"介绍","level":"1.1","depth":1,"path":"README.md","ref":"README.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","-highlight","code","click-reveal","prism","search-plus","hide-element","-sharing","sharing-plus","simple-page-toc","emphasize","graph","expandable-chapters-small","anchors","splitter","insert-logo","ace","copy-code-button","anchor-navigation-ex","autotheme","favicon","github"],"styles":{"website":"styles/website.css"},"pluginsConfig":{"prism":{},"disqus":{"shortName":""},"emphasize":{},"ace":{},"github":{"url":"https://github.com/SmartLyu/LearnNote"},"simple-page-toc":{},"splitter":{},"page-toc":{"selector":".markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4","position":"before-first","showByDefault":true},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"code":{"copyButtons":true},"graph":{},"hide-element":{"elements":[".gitbook-link"]},"fontsettings":{"theme":"white","family":"sans","size":2},"fontSettings":{"family":"serif","size":1},"click-reveal":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"fa fa-hand-o-right","level2Icon":"fa fa-hand-o-right","level3Icon":"fa fa-hand-o-right","showLevelIcon":false},"mode":"float","multipleH1":false,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":false},"favicon":{"shortcut":"images/logo.ico","bookmark":"images/logo.ico","appleTouch":"images/logo.ico","appleTouchMore":{"120x120":"images/logo.ico","180x180":"images/logo.ico"}},"expandable-chapters-small":{},"copy-code-button":{},"autotheme":{"night":[19,20,21,22,23,0,1,2,3,4,5],"sepia":[7,18,8,17,18,19],"white":[8,9,10,11,12,13,14,15,16,17]},"sharing":{"facebook":true,"twitter":true,"google":true,"qq":true,"qzone":true,"weibo":true,"all":["facebook","messenger","google","twitter","weibo","qq","linkedin","qzone","line"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{},"insert-logo":{"style":"background: none; max-height: 50px; min-height: 30px","url":"images/logo.png"},"search-plus":{}},"theme":"default","author":"yuzhiyuan","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"小远笔记","language":"zh-hans","gitbook":"*","description":"记录学习中的知识点"},"file":{"path":"Golang/README.md","mtime":"2021-07-13T01:26:50.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-07-13T02:55:04.277Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-click-reveal/click_reveal.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-insert-logo/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ace/ace/ace.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ace/ace.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-autotheme/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

